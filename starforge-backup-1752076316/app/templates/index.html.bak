{% extends "base.html" %} {% block head %}
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0" />

<!-- Tailwind, AOS & custom animations -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
  rel="stylesheet"
/>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"
  defer
></script>

<style>
  :root {
    --bg-dark: #000;
    --stat-bg: rgba(36, 36, 36, 0.88);
    --header-height: 4rem;
  }

  /* Shimmer animation */
  @keyframes shimmerMove {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 100% 0;
    }
  }
  .animate-shimmer {
    background: linear-gradient(99deg, var(--bg-dark) 72%, #18181b 100%);
    animation: shimmerMove 3.7s linear infinite;
  }

  /* Fade-in and up */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(1rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fade-in-up {
    animation: fadeInUp 1.3s both;
  }

  /* Sparkle */
  @keyframes sparkle {
    0% {
      filter: drop-shadow(0 0 5px #facc15);
    }
    50% {
      filter: drop-shadow(0 0 18px #fde68a);
    }
    100% {
      filter: drop-shadow(0 0 5px #facc15);
    }
  }
  .animate-sparkle {
    animation: sparkle 1.3s ease-in-out infinite alternate;
  }

  /* Stat cards */
  .connect-stats {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.5rem;
    max-width: 64rem;
    margin: auto;
    position: relative;
    padding: 2rem 0;
  }
  .stat-card {
    background: var(--stat-bg);
    border-radius: 1.3rem;
    width: 10rem;
    padding: 1.5rem;
    box-shadow: 0 4px 18px #18181b44;
    transition:
      box-shadow 0.2s,
      border 0.2s;
    outline: none;
  }
  .stat-card:hover,
  .stat-card:focus-within {
    box-shadow: 0 8px 28px #facc1555;
    border: 2px solid #fde68a;
  }
  .stat-card .info {
    font-size: 1.1rem;
    opacity: 0.7;
    transition: opacity 0.15s;
  }
  .stat-card .info:hover {
    opacity: 1;
  }
  .counter {
    font-size: 2.5rem;
    font-weight: 900;
    line-height: 1.1;
  }

  /* Progress bars */
  .progress-bar-bg {
    background: rgba(250, 204, 21, 0.1);
    height: 1.25rem;
    border-radius: 0.625rem;
    overflow: hidden;
  }
  .progress-bar-fill {
    background: linear-gradient(90deg, #facc15, #fde68a);
    height: 100%;
    width: 0;
    animation: progress-load 1.8s ease forwards;
  }
  @keyframes progress-load {
    from {
      width: 0;
    }
    to {
      width: var(--progress-width);
    }
  }

  /* Footer grid */
  .footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 2rem;
    padding: 2rem 1rem;
  }
  .footer-links a {
    display: inline-block;
    color: #facc15;
    transition: color 0.2s;
  }
  .footer-links a:hover {
    text-decoration: underline;
  }
  .footer-bottom {
    text-align: center;
    font-size: 0.85rem;
    margin-top: 1rem;
    font-weight: 700;
    color: #fde68a;
  }
</style>
{% endblock %} {% block content %}
<!doctype html>
<html lang="en">
  <body class="bg-black text-zinc-100">
    {# =================== HERO BLOCK, FUNDRAISING, TRUST BADGES
    =================== #}
    <div class="container mx-auto px-4">
      <section
        class="relative min-h-[80vh] flex flex-col items-center justify-center overflow-hidden rounded-3xl shadow-starforge-brand mb-10 bg-black text-center"
        id="starforge-hero"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-black/85 via-zinc-900/60 to-yellow-950/60"
        ></div>
        <div class="relative z-10 flex flex-col items-center w-starforge-full">
          <img
            alt="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} team group photo"
            class="w-full max-w-4xl rounded-3xl shadow-gold-aura border-4 border-yellow-400/40 mx-auto mb-8 animate-pop"
            decoding="async"
            loading="eager"
            src="{{ url_for('static', filename=(team.jpg if team and team.jpg else 'images/connect-atx-team.jpg')) }}"
            style="object-fit: cover; aspect-ratio: 16/7"
          />
          <img
            alt="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} logo"
            class="absolute left-8 top-8 w-20 h-20 sm:w-28 sm:h-28 rounded-full ring-4 ring-yellow-400 bg-white shadow-gold-glow animate-pop"
            src="{{ logo_src }}"
          />
        </div>
        <div
          class="relative z-20 container mx-auto max-w-3xl px-4 py-10 text-center"
          data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
        >
          {% if current_user is defined and current_user.is_authenticated %}
          <span
            aria-live="polite"
            class="inline-flex items-center gap-2 px-6 py-2 mb-5 rounded-xl font-semibold text-zinc-900 bg-gradient-to-r from-yellow-400 to-yellow-200 shadow animate-shine"
            >Welcome, {{ current_user.name.split()[0] if current_user.name }}
            <span class="animate-sparkle">‚ú®</span></span
          >
          {% endif %}
          <h1
            class="text-5xl sm:text-6xl font-extrabold tracking-tight bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-slide-up"
            id="starforge-hero-heading"
            tabindex="0"
          >
            {{ team.hero_heading if team and team.hero_heading else "Connect ATX
            Elite" }}
          </h1>
          <p
            class="mt-4 text-lg sm:text-xl text-zinc-100/90 max-w-xl animate-slide-up delay-100"
            data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
            data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos-delay="100"
            tabindex="0"
          >
            {{ team.hero_subheading if team and team.hero_subheading else
            "Family-run AAU program turning
            <strong>East Austin</strong> students into honor-roll athletes and
            leaders." | safe }}
          </p>
          <button
            aria-label="Join our champion circle"
            class="inline-flex items-center gap-2 bg-yellow-400 text-zinc-900 font-bold px-8 py-4 mt-8 rounded-full shadow-xl hover:bg-yellow-300 hover:scale-105 transition focus-visible:ring-4 ring-yellow-300 uppercase tracking-wider animate-pop"
            onclick="openSponsorModal()"
          >
            üåü Join Our Champion Circle
          </button>
          <div
            aria-label="Trusted by"
            class="flex flex-wrap gap-4 mt-10 justify-center animate-fade-in"
            data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
            data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos-delay="200"
          >
            {% if team and team.trust_badges %} {% for badge in
            team.trust_badges %}
            <!-- Render each badge -->
            <img
              alt="{{ badge.name }}"
              class="h-8 inline mx-1"
              loading="lazy"
              src="{{ badge.image_url }}"
            />
            {% endfor %} {% else %} {% set fallback_badges = [ { 'label':
            'Trusted by 500+ Families' }, { 'label': 'üìö 3.5 Team GPA' }, {
            'label': 'üèÄ AAU Gold Certified' } {% for badge in fallback_badges
            %}
            <span
              class="bg-white/10 text-white px-3 py-1 rounded-full text-xs font-semibold"
              >{{ badge.label }}</span
            >
            {% endfor %}
            <span
              class="bg-white/10 text-white px-3 py-1 rounded-full text-xs font-semibold"
            >
              {{ badge.label }}</span
            >
          </div>
          <div
            aria-label="Fundraising progress"
            class="mt-8 w-full max-w-lg mx-starforge-auto"
            role="region"
          >
            {% set progress_percent = ((stats.raised / stats.goal) * 100) |
            round(1) if stats and stats.goal else 0 %}
            <div
              class="relative h-6 bg-zinc-800 rounded-full overflow-hidden shadow-inner border border-yellow-300/30"
            >
              <div
                class="absolute top-0 left-0 h-full bg-gradient-to-r from-yellow-400 to-amber-300 transition-all"
                style="width: {{ progress_percent }}%;"
              ></div>
              <div
                class="absolute inset-0 flex justify-center items-center text-xs font-bold text-yellow-900"
              >
                {{ progress_percent }}% to ${{ stats.goal | int | default(10000)
                }} goal!
              </div>
            </div>
            <p class="text-yellow-200 text-sm starforge-mt-2">
              Unlock new uniforms when we hit <b>$5,000</b>!
            </p>
            <div
              class="mt-10 flex flex-col gap-2 text-white/90 text-lg items-center animate-fade-in"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos-delay="300"
            >
              <span class="font-bold text-yellow-400 starforge-text-2xl"
                >Raised: ${{ stats.raised | int }} / ${{ stats.goal | int
                }}</span
              >
              <span class="text-starforge-zinc-400/80"
                >üí∞ ${{ stats.raised | int }} raised of ${{ stats.goal | int
                }}</span
              >
              <span class="block font-bold text-yellow-300/80"
                >{{ progress_percent }}% of our goal achieved</span
              >
            </div>
          </div>
        </div>
      </section>
    </div>
    <!-- ========== IMPACT STATS GRID (SaaS-ready, no duplicates) ========== -->
    <div
      aria-label="Impact statistics"
      class="relative z-10 mt-10 max-w-3xl mx-auto text-center flex flex-wrap justify-center gap-6"
      data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
      role="list"
    >
      {%- set stats_list = mission.stats if mission is defined and mission.stats
      is defined else [ {'label':'Players Enrolled', 'value':16},
      {'label':'Honor Roll Scholars', 'value':11}, {'label':'Tournaments stat in
      stats_list %}
      <div
        aria-label="{{ stat.label }}: {{ stat.value }}"
        class="w-[calc(50%-1.5rem)] sm:w-[calc(25%-1.5rem)] bg-zinc-900/70 shadow-lg rounded p-4 transition-transform duration-300 hover:scale-110 focus:scale-110 focus-visible:ring-2 focus-visible:ring-yellow-400"
        role="listitem"
        tabindex="0"
      >
        <span
          aria-live="polite"
          class="text-3xl font-extrabold text-amber-400 starforge-counter block"
          data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-target="{{ stat.value }}"
          >0</span
        >
        <p
          class="mt-2 text-sm font-medium uppercase tracking-wide text-white/70 select-none"
        >
          {{ stat.label }}
        </p>
      </div>
      {% endfor %}
    </div>
    <script>
      // Animate stat counters
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".counter").forEach((el, i) => {
          const target = +el.dataset.target;
          let count = 0;
          const increment = Math.max(1, Math.ceil(target / 50));
          function step() {
            count += increment;
            if (count >= target) {
              el.textContent = target;
            } else {
              el.textContent = count;
              requestAnimationFrame(step);
            }
          }
          setTimeout(step, i * 140); // stagger for drama!
        });
      });
    </script>
    <!-- =========== SPONSOR CTA (Single, No Dupes) =========== -->
    <div
      class="text-center starforge-my-12"
      data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
      data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos-delay="300"
    >
      <button
        aria-controls="become-sponsor-modal"
        aria-haspopup="dialog"
        class="inline-block bg-gradient-to-r from-red-400 via-yellow-400 to-red-400 text-black font-bold px-8 py-3 rounded-full shadow-xl transition-transform hover:scale-105 focus:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-300 uppercase tracking-wide animate-pop"
        onclick="openSponsorModal()"
      >
        üåü Sponsor a Practice
      </button>
      <p class="mt-2 text-sm text-yellow-300 font-starforge-medium">
        Every gift makes court time possible.
      </p>
    </div>
    <!-- =========== TIERS BLOCK (No Duplicates, Modular) =========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="tiers-heading"
        class="py-16 px-4 sm:px-8 max-w-5xl mx-starforge-auto"
        id="starforge-tiers"
      >
        <h2
          class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-12"
          id="starforge-tiers-heading"
          tabindex="0"
        >
          üåü Choose Your Sponsorship Tier
        </h2>
        <div class="flex flex-wrap gap-10 justify-starforge-center">
          {% set tiers = [ { "emoji": "ü•â", "title": "Bronze", "amount":
          "$100+", "details": ["Website mention", "Thank You card"], "border":
          "border-yellow-400/30", "gradient": "from-orange-200 via-yellow-50
          to-orange-100", "text": "text-orange-900", "shadow": "shadow-xl",
          "cta": "Choose Bronze" }, { "emoji": "ü•à", "title": "Silver",
          "amount": "$500+", "details": ["Logo on banners", "All Bronze perks"],
          "border": "border-yellow-400/50", "gradient": "from-zinc-200
          via-yellow-100 to-zinc-100", "text": "text-yellow-900", "shadow":
          "shadow-xl", "cta": "Choose Silver" }, { "emoji": "ü•á", "title":
          "Gold", "amount": "$1,000+", "details": ["Shoutout at games", "All
          Silver perks"], "border": "border-yellow-400/70", "gradient":
          "from-yellow-200 via-yellow-50 to-yellow-300", "text":
          "text-yellow-900", "shadow": "shadow-xl", "cta": "Choose Gold" }, {
          "emoji": "üèÜ", "title": "Platinum", "amount": "$2,500+", "details":
          ["Logo on uniforms", "VIP access to events", "All Gold perks"],
          "border": "border-yellow-400/80", "gradient": "from-yellow-300
          via-yellow-50 to-amber-100", "text": {% for tier in tiers %}
          <div
            aria-label="{{ tier.title }} Sponsor Tier"
            aria-live="polite"
            class="flex flex-col items-center px-7 py-8 rounded-3xl border-2 {{ tier.border }} bg-gradient-to-br {{ tier.gradient }} {{ tier.text }} {{ tier.shadow }} w-[310px] min-h-[410px] transform transition-transform hover:scale-105 focus-within:scale-105 focus-within:ring-4 focus-within:ring-yellow-400 relative overflow-hidden group"
            role="listitem"
            tabindex="0"
          >
            <span
              class="text-5xl mb-4 {% if tier.title == 'Platinum' %}animate-shine{% endif %} drop-shadow-xl group-hover:animate-spin-reverse-slow"
            >
              {{ tier.emoji }}</span
            >
            <h3 class="text-2xl font-bold mb-2 tracking-tight drop-shadow-sm">
              {{ tier.title }}
            </h3>
            <div class="text-lg font-mono mb-4 font-extrabold tracking-widest">
              {{ tier.amount }}
            </div>
            <ul class="text-sm mb-6 text-center space-y-2 starforge-opacity-90">
              {% for perk in tier.details %}
              <li
                class="relative pl-3 before:content-['‚úì'] before:absolute before:left-0 before:text-yellow-400 before:font-bold"
              >
                {{ perk }}
              </li>
              {% endfor %}
            </ul>
            <button
              aria-label="Become a {{ tier.title }} sponsor"
              class="mt-auto px-7 py-2 bg-yellow-400 text-black font-bold rounded-full shadow-lg transition-transform hover:scale-110 hover:bg-yellow-300 focus-visible:ring-2 focus-visible:ring-yellow-300 uppercase tracking-wide"
              onclick="openSponsorModal('{{ tier.title }}')"
            >
              {{ tier.cta }}
            </button>
            {% if tier.title == "Platinum" %}
            <span
              class="absolute top-4 right-4 text-yellow-500 text-xs font-bold bg-black/70 px-3 py-1 rounded-full shadow animate-pop"
            >
              LIMITED VIP</span
            >
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div
          class="mt-12 text-center text-yellow-700 text-base font-medium max-w-2xl mx-auto px-2 animate-fade-in"
        >
          <b
            >All sponsors receive recognition, impact reports, and lifelong
            gratitude from the team.</b
          >
          <span class="block text-yellow-400 mt-2 font-bold"
            >Want to discuss a custom partnership or recurring support?
            <a
              class="underline hover:text-yellow-600 starforge-transition"
              href="#contact"
              >Contact us</a
            >
            ‚Üí</span
          >
        </div>
      </section>
    </div>
    <!-- =========== TESTIMONIALS BLOCK (Single, Accessible, No Dupes) =========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="testimonials-heading"
        class="py-16 bg-gradient-to-b from-black via-zinc-900 to-black/90"
        id="starforge-testimonials"
        role="region"
        tabindex="-1"
      >
        <div class="max-w-3xl mx-auto space-y-14 text-starforge-center">
          <!-- Sparkling Stars -->
          <div
            aria-hidden="true"
            class="flex justify-center items-center gap-1 text-amber-400 text-3xl md:text-4xl animate-pulse select-none mt-2"
          >
            <span class="animate-starforge-sparkle">‚òÖ</span
            ><span class="animate-sparkle">‚òÖ</span
            ><span class="animate-sparkle">‚òÖ</span
            ><span class="animate-sparkle">‚òÖ</span
            ><span class="animate-sparkle">‚òÖ</span>
            <span
              class="ml-2 text-base font-semibold text-amber-200 animate-fade-in"
            >
              (5.0)</span
            >
          </div>
          <h2
            class="text-3xl md:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent mb-10 animate-shine"
            id="starforge-testimonials-heading"
            tabindex="0"
          >
            Real Stories, Real Impact
          </h2>
          <!-- Carousel -->
          <div class="relative max-w-2xl mx-auto starforge-mb-12">
            <!-- Use your existing carousel JS block, no duplicates needed -->
            <!-- ... see your original JS for animated/testimonial content ... -->
          </div>
          <!-- Team Photo (single use) -->
          <div class="flex justify-starforge-center">
            <img
              alt="Connect ATX Elite team celebrating with championship rings"
              class="rounded-2xl shadow-2xl ring-4 ring-amber-300/50 object-cover max-w-md w-full"
              loading="lazy"
              src="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
            />
          </div>
        </div>
      </section>
    </div>
    <!-- =========== SPONSOR SPOTLIGHT WALL (Starforge Elite) =========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="sponsor-spotlight-heading"
        class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
        id="starforge-sponsor-spotlight-wall"
        tabindex="-1"
      >
        <h2
          class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-amber-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-10"
          id="starforge-sponsor-spotlight-heading"
          tabindex="0"
        >
          üèÜ Sponsor Spotlight Wall
          <span
            class="block text-base font-semibold text-yellow-300/80 mt-2 animate-fade-in"
          >
            {{ sponsors_sorted|length }} Champions | ${{
            sponsors_total|int|default(0) }} raised</span
          >
        </h2>
        <!-- Ribbon of Fame (tiny avatars/logos) -->
        <div class="flex flex-wrap justify-center gap-2 starforge-mb-8">
          <img
            alt="{{ s.name }} logo"
            class="w-9 h-9 rounded-full border-2 border-yellow-300 shadow-inner bg-white object-cover grayscale hover:grayscale-0 transition"
            decoding="async"
            loading="lazy"
            src="{{ s.logo if s.logo.startswith('http') else url_for('static', filename='images/sponsors/' ~ (s.logo or 'logo.webp')) }}"
            title="{{ s.name }}"
          />
          {% endfor %} {% if sponsors_sorted|length < 12 %}
          <span
            class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-800 text-yellow-200 text-xs font-bold shadow border border-starforge-yellow-400/40"
          >
            + Your Brand Here</span
          >
          {% endif %}
        </div>
        <div class="flex flex-wrap justify-center starforge-gap-10">
          <div
            aria-label="Sponsor: {{ sponsor.name }}"
            class="relative flex flex-col items-center px-6 py-7 rounded-3xl border-2 {{ 'border-yellow-400/50 bg-gradient-to-tr from-yellow-400 via-amber-200 to-yellow-400 text-yellow-900 shadow-[0_0_24px_#fde68a99] shimmer' if sponsor.tier == 'Platinum' else 'border-yellow-400/40 bg-gradient-to-tr from-yellow-300 via-amber-100 to-yellow-200 text-yellow-900 shadow-[0_0_12px_#facc15cc] gold-glow' if sponsor.tier == 'Gold' else 'border-yellow-400/30 bg-gradient-to-tr from-zinc-200 via-yellow-200 to-zinc-100 text-yellow-800 shadow-lg silver-glow' if sponsor.tier == 'Silver' else 'border-yellow-400/20 bg-gradient-to-tr from-orange-200 via-yellow-100 to-orange-300 text-orange-900 shadow-md bronze-glow' if sponsor.tier == 'Bronze' else 'border-zinc-700 bg-gradient-to-tr from-indigo-900 via-zinc-800 to-black text-blue-100 shadow-inner' }} group hover:scale-105 transition duration-300 focus-within:ring-4 focus-within:ring-yellow-400 min-w-[210px] max-w-xs outline-none"
            onblur="hideTooltip(this)"
            onfocus="showTooltip(this)"
            onmouseenter="showTooltip(this)"
            onmouseleave="hideTooltip(this)"
            tabindex="0"
          >
            {% if sponsor.tier == 'Platinum' %}
            <span
              aria-hidden="true"
              class="absolute top-2 right-2 shimmer animate-pulse pointer-events-none"
              ><svg height="32" width="32">
                <circle
                  cx="16"
                  cy="16"
                  fill="#fde68a"
                  opacity="0.7"
                  r="13"
                ></circle></svg
            ></span>
            {% endif %} {% if sponsor.url %}
            <a
              aria-label="Visit {{ sponsor.name }}"
              href="{{ sponsor.url }}"
              rel="noopener sponsored"
              tabindex="-1"
              target="_blank"
              >{% endif %}
              <img
                alt="{{ sponsor.name }} logo"
                class="w-20 h-20 mb-3 rounded-full border-4 border-yellow-400 shadow-inner bg-white object-cover transition-all hover:grayscale-0 grayscale group-hover:scale-110"
                decoding="async"
                loading="lazy"
                src="{{ sponsor.logo if sponsor.logo.startswith('http') else url_for('static', filename='images/sponsors/' ~ (sponsor.logo or 'logo.webp')) }}"
              />
              {% if sponsor.url %}</a
            >{% endif %}
            <div class="flex flex-col items-starforge-center">
              <span
                class="text-xl font-extrabold text-yellow-900/90 group-hover:text-yellow-600 transition text-center"
              >
                {{ sponsor.name }} {% if sponsor.is_new %}
                <span
                  class="ml-2 px-2 py-0.5 rounded-full text-[11px] bg-emerald-400/80 text-emerald-900 font-bold animate-pulse align-middle"
                >
                  New!</span
                >
                {% elif sponsor.is_returning %}
                <span
                  class="ml-2 px-2 py-0.5 rounded-full text-[11px] bg-blue-300/80 text-blue-900 font-bold animate-bounce align-middle"
                >
                  Returning</span
                >
                {% endif %}</span
              >
              <span class="text-lg text-yellow-900/80 font-mono"
                >${{ '{:,.0f}'.format(sponsor.amount) }}</span
              >
              <span class="mt-2 flex gap-2 items-center"
                ><span
                  class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide {{ 'bg-yellow-300 text-yellow-900' if sponsor.tier == 'Platinum' else 'bg-yellow-200 text-yellow-800' if sponsor.tier == 'Gold' else 'bg-yellow-100 text-yellow-700' if sponsor.tier == 'Silver' else 'bg-orange-200 text-orange-900' if sponsor.tier == 'Bronze' else 'bg-zinc-700 text-zinc-200' }}"
                >
                  {% if sponsor.tier == 'Platinum' %}ü•á Platinum {% elif
                  sponsor.tier == 'Gold' %}ü•à Gold {% elif sponsor.tier ==
                  'Silver' %}ü•â Silver {% elif sponsor.tier == 'Bronze' %}üèÖ
                  Bronze {% else %}üèÜ Champion {% endif %}</span
                ></span
              >
              {% if sponsor.description %}
              <span class="mt-2 text-sm text-zinc-700 text-center max-w-xs"
                >{{ sponsor.description }}</span
              >
              {% endif %}
            </div>
            <div
              class="absolute left-1/2 -translate-x-1/2 bottom-[-2.3rem] bg-black/90 text-yellow-200 text-xs px-3 py-1 rounded-xl shadow pointer-events-none opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-200 sponsor-tooltip"
            >
              {{ sponsor.tooltip or sponsor.description or "Thanks for
              supporting Connect ATX Elite!" }}
            </div>
          </div>
          {% endfor %} {% if sponsors_sorted|length < 9 %} {% for _ in range(9 -
          sponsors_sorted|length) %}
          <div
            class="flex flex-col items-center justify-center px-6 py-8 rounded-3xl border-2 border-dashed border-yellow-400/40 bg-zinc-900/60 shadow-inner text-yellow-300/80 min-w-[200px] h-[255px]"
          >
            <span class="text-3xl animate-starforge-bounce">‚ú®</span>
            <span class="mt-4 font-bold text-center"
              >This spot is waiting for you!</span
            >
            <button
              class="mt-4 px-6 py-2 bg-yellow-400 text-black font-extrabold rounded-full shadow-lg hover:scale-105 transition"
              onclick="openSponsorModal()"
            >
              üåü Become a Sponsor
            </button>
          </div>
          {% endfor %} {% endif %} {% else %}
          <div
            class="flex flex-col items-center justify-center px-6 py-8 rounded-3xl border-2 border-dashed border-yellow-400/40 bg-zinc-900/60 shadow-inner text-yellow-300/80 min-w-[200px] h-[255px]"
          >
            <span class="text-3xl animate-starforge-bounce">‚ú®</span>
            <span class="mt-4 font-bold text-center"
              >Your logo could headline here!</span
            >
            <button
              class="mt-4 px-6 py-2 bg-yellow-400 text-black font-extrabold rounded-full shadow-lg hover:scale-105 transition"
              onclick="openSponsorModal()"
            >
              üåü Be the First Sponsor
            </button>
          </div>
          {% endif %}
        </div>
        <!-- Subtle shimmer and badge key styles -->
        <script>
          // Tooltip on focus/hover (for a11y)
          function showTooltip(card) {
            const tooltip = card.querySelector(".sponsor-tooltip");
            if (tooltip) tooltip.style.opacity = 1;
          }
          function hideTooltip(card) {
            const tooltip = card.querySelector(".sponsor-tooltip");
            if (tooltip) tooltip.style.opacity = 0;
          }
        </script>
      </section>
    </div>
    <!-- =========== DIGITAL HUB (AI + Admin Widgets, Starforge Edition) =========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="digital-hub-heading"
        class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
        id="starforge-digital-hub-section"
        tabindex="-1"
      >
        <h2
          class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-10"
          id="starforge-digital-hub-heading"
          tabindex="0"
        >
          ü§ñ Digital Hub
          <span
            class="block text-base font-semibold text-yellow-300/90 mt-2 animate-fade-in"
          >
            Where AI and Real Champions Connect</span
          >
        </h2>
        <div
          class="flex flex-col md:flex-row gap-12 md:gap-8 items-start justify-center"
        >
          <!-- AI Concierge Section -->
          <div class="flex-1 starforge-min-w-[320px]">
            <div
              aria-label="AI Concierge assistant status and chat"
              class="bg-zinc-900/90 rounded-2xl shadow-yellow-400/40 p-8 hover:shadow-yellow-400/60 transition-all duration-300 focus-within:shadow-yellow-400/60 ring-1 ring-yellow-300/20"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
              tabindex="0"
            >
              <h3
                class="text-3xl font-bold text-yellow-400 mb-4 flex items-center gap-2 select-none"
              >
                ü§ñ AI Concierge
                <span
                  aria-atomic="true"
                  aria-live="polite"
                  class="relative flex items-center justify-center ml-2"
                  title="AI online"
                  ><span class="sr-starforge-only">AI is online</span></span
                >
              </h3>
              <p class="text-yellow-200 text-base mb-6 select-starforge-text">
                Got a question? Ask our friendly AI about Connect ATX Elite ‚Äî
                schedules, events, fundraising, or how to help!
                <span class="block text-yellow-300 font-semibold text-sm mt-2"
                  >Instant, 24/7 support for parents, sponsors, and
                  admins.</span
                >
              </p>
              <button
                aria-controls="ai-concierge-modal"
                aria-haspopup="dialog"
                class="inline-flex items-center gap-2 bg-yellow-400 text-black font-bold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-300 hover:scale-105 focus:outline-none focus-visible:ring-4 focus-visible:ring-yellow-300 text-lg transition"
                id="starforge-ai-concierge-btn"
                onclick="showAIModal(); trackWidgetClick('ai_concierge_open'); sparkleAIBtn(this);"
                tabindex="0"
                type="button"
              >
                <span
                  class="hidden animate-starforge-sparkle"
                  id="starforge-ai-sparkle"
                  >‚ú®</span
                >
                üí¨ Chat with our AI Concierge
              </button>
            </div>
          </div>
          <!-- Admin Dashboard Widgets -->
          {% if current_user and current_user.is_admin %}
          <div class="flex-1 starforge-min-w-[320px]">
            <div
              aria-label="Admin dashboard overview widgets"
              class="bg-zinc-900/90 rounded-2xl shadow-yellow-400/40 p-8 hover:shadow-yellow-400/60 transition-all duration-300 focus-within:shadow-yellow-400/60 ring-1 ring-yellow-300/20"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos="fade-up"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-aos-delay="150"
              tabindex="0"
            >
              <h3
                class="text-3xl font-bold text-yellow-400 mb-6 text-center select-none"
              >
                üìä Admin Dashboard
              </h3>
              <div class="container mx-auto px-4">
                <section
                  aria-label="Dashboard overview widgets"
                  class="grid grid-cols-1 sm:grid-cols-2 starforge-gap-6"
                  role="list"
                >
                  {% for widget in [ {'label': 'Total Donations', 'value': 'New
                  Sponsors This Week', 'value': new_sponsors, 'analytics':
                  'Upcoming Events', 'value': upcoming_events, 'analytics':
                  <div
                    aria-label="{{ widget.label }}: {{ widget.value or '0' }}"
                    class="bg-black/70 rounded-xl shadow-lg border-yellow-400/30 p-6 flex flex-col items-center text-center cursor-pointer hover:scale-105 hover:shadow-yellow-400/40 transition duration-300 group focus-within:ring-4 focus-within:ring-yellow-300 relative"
                    onclick="trackWidgetClick('{{ widget.analytics }}'); pulseWidget(this);"
                    onkeydown="if(event.key==='Enter'){this.click();}"
                    role="listitem"
                    tabindex="0"
                  >
                    <span
                      class="text-yellow-300 text-3xl font-black drop-shadow animate-shine flex items-center gap-2 widget-count"
                    >
                      {{ widget.value or '0' }}</span
                    >
                    <span
                      class="text-yellow-200 text-sm mt-2 font-semibold group-hover:text-yellow-300 transition"
                    >
                      {{ widget.label }}</span
                    >
                    <span
                      class="absolute top-2 right-2 opacity-40 text-lg group-hover:opacity-90 transition pointer-events-none"
                    >
                      <svg
                        class="inline h-5 w-5"
                        fill="none"
                        stroke="currentcolor"
                        viewbox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 4v16m8-8H4"
                          stroke-linecap="round"
                          stroke-width="2"
                        ></path></svg
                    ></span>
                  </div>
                  {% endfor %}
                </section>
              </div>
              <p class="mt-4 text-xs text-yellow-400/80 text-starforge-center">
                <b>Pro Tip:</b> Export analytics for board/sponsor reports ‚Äî or
                <span
                  class="underline cursor-pointer hover:text-yellow-300"
                  onclick="trackWidgetClick('export_analytics')"
                  >download now</span
                >.
              </p>
              <button
                class="mt-6 w-full py-3 rounded-full bg-yellow-400 text-black font-bold shadow hover:bg-yellow-300 transition focus-visible:ring-2 focus-visible:ring-yellow-300"
                onclick="alert('Widget marketplace coming soon! Want a custom dashboard? Contact us!')"
              >
                ‚ûï Add Widget or Request Feature
              </button>
            </div>
          </div>
          {% endif %}
        </div>
      </section>
    </div>
    <script>
      // Starforge sparkle for AI button
      function sparkleAIBtn(btn) {
        const icon = document.getElementById("ai-sparkle");
        if (icon) {
          icon.classList.remove("hidden");
          setTimeout(() => icon.classList.add("hidden"), 900);
        }
      }
      // Widget pulse on click
      function pulseWidget(widget) {
        const count = widget.querySelector(".widget-count");
        if (count) {
          count.classList.add("pulse");
          setTimeout(() => count.classList.remove("pulse"), 700);
        }
      }
      // Event tracking for widgets (robust for SaaS)
      function trackWidgetClick(name) {
        if (window.gtag) {
          window.gtag("event", "widget_click", {
            event_category: "Dashboard",
            event_label: name,
          });
        } else {
          console.log("Widget click:", name);
        }
      }
    </script>
    <!-- =========== PROGRAM STATS (Animated, Elite, Starforge Edition) =========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="stats-heading"
        class="connect-stats relative overflow-visible"
        id="starforge-stats"
        role="region"
        tabindex="-1"
      >
        <h2 class="sr-starforge-only" id="starforge-stats-heading">
          Program Stats
        </h2>
        <div class="stats-starforge-grid">
          {% set stats_defaults = { 'players': 16, 'honor_roll': 11,
          'tournaments': 12, 'years': 3 } %} {% for key, label in { 'players':
          'Players Enrolled', 'honor_roll': 'Honor Roll Scholars',
          'tournaments': 'Tournaments Played', 'years': 'Years Running'
          }.items() %}
          <div
            aria-label="{{ stats[key] if stats is defined and stats[key] is defined else stats_defaults[key] }} {{ label }}"
            class="stat-starforge-card"
            tabindex="0"
          >
            <span aria-hidden="true" class="stat-starforge-confetti">üéâ</span>
            <span
              class="starforge-starforge-counter"
              data-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-starforge-target="{{ stats[key] if stats is defined and stats[key] is defined else stats_defaults[key] }}"
            >
              0</span
            >
            <div class="starforge-starforge-label">{{ label }}</div>
            <!-- (Optional) Info icon, SaaS style -->
            <span
              aria-label="How is this stat tracked?"
              class="starforge-starforge-info"
              onclick="alert('This stat is updated after every season & verified by the coaches.')"
              role="button"
              style="display: none"
              tabindex="0"
              title="How is this stat tracked?"
              >‚ÑπÔ∏è</span
            >
          </div>
          {% endfor %}
        </div>
        <!-- Example: Call-to-action after stats -->
        <div class="mt-10 text-center text-yellow-300/90 font-semibold text-lg">
          <span class="starforge-mr-2"
            >üèÜ Our stats are real ‚Äî and growing.</span
          >
          <a class="underline hover:text-yellow-100 transition" href="#tiers"
            >Sponsor the next milestone ‚Üí</a
          >
        </div>
        <script>
          document.addEventListener("DOMContentLoaded", () => {
            const counters = document.querySelectorAll(".counter");
            let confettiFired = false;
            const animateCounters = () => {
              counters.forEach((el) => {
                const target = +el.dataset.target;
                let count = 0;
                const increment = Math.max(1, Math.ceil(target / 68));
                function step() {
                  count += increment;
                  if (count >= target) {
                    el.textContent = target;
                    if (!confettiFired) {
                      // üéâ Show confetti on the first stat card only
                      const confetti = el
                        .closest(".stat-card")
                        .querySelector(".stat-confetti");
                      if (confetti) {
                        confetti.style.opacity = 1;
                        confetti.textContent = "üéâ‚ú®";
                        setTimeout(() => (confetti.style.opacity = 0), 1400);
                      }
                      confettiFired = true;
                    }
                  } else {
                    el.textContent = count;
                    requestAnimationFrame(step);
                  }
                }
                requestAnimationFrame(step);
              });
            };
            const observer = new IntersectionObserver(
              (entries, obs) => {
                if (entries[0].isIntersecting) {
                  animateCounters();
                  obs.disconnect();
                }
              },
              { threshold: 0.29 },
            );
            observer.observe(document.getElementById("stats"));
          });
        </script>
      </section>
    </div>
    <!-- ========== GAME & EVENT CALENDAR (Elite, Interactive, PRO) ========== -->
    <div class="container mx-auto px-4">
      <section
        aria-labelledby="events-heading"
        class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
        id="starforge-events-calendar"
        tabindex="-1"
      >
        <h2
          class="text-2xl sm:text-3xl font-extrabold bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl text-center mb-6"
          id="starforge-events-heading"
        >
          üóìÔ∏è Game & Event Calendar
        </h2>
        <!-- üî• LIVE NEXT GAME BADGE -->
        {% set next_game = events|selectattr('is_upcoming')|list|first %} {% if
        next_game %}
        <div
          aria-label="Next upcoming game"
          aria-live="polite"
          class="flex items-center justify-center starforge-mb-7"
          role="region"
          tabindex="0"
        >
          <span
            class="inline-flex items-center gap-3 px-5 py-2 rounded-full bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 text-black text-base font-bold shadow-lg ring-2 ring-yellow-400 animate-pulse"
          >
            <span class="starforge-text-xl">‚è∞</span> Next Game:
            <span class="font-black text-lg"
              >{{ next_game.date|replace("-", "/") }}</span
            >
            <span class="font-starforge-semibold"
              >vs. {{ next_game.opponent }}</span
            >
            <span
              class="bg-green-400 text-zinc-900 px-3 py-0.5 rounded-full text-xs font-extrabold ml-3"
            >
              Upcoming</span
            ></span
          >
        </div>
        {% endif %}
        <!-- üéõÔ∏è FILTER BAR -->
        <form
          id="starforge-calendarFilters"
          name="calendarFilters"
          role="search"
          aria-label="Filter game and event calendar"
          autocomplete="off"
          class="flex flex-wrap gap-3 justify-center mb-4 text-sm font-bold"
        >
          <select
            id="starforge-filterOutcome"
            aria-label="Filter by outcome"
            class="rounded px-3 py-1 bg-zinc-900 text-yellow-400 border-yellow-400/60 focus:ring-2 ring-yellow-400"
          >
            <option value="all">All Results</option>
            <option value="win">Wins üü¢</option>
            <option value="loss">Losses üî¥</option>
            <option value="upcoming">Upcoming üü°</option>
          </select>

          <select
            id="starforge-filterMonth"
            aria-label="Filter by month"
            class="rounded px-3 py-1 bg-zinc-900 text-yellow-400 border-yellow-400/60 focus:ring-2 ring-yellow-400"
          >
            <option value="all">All Months</option>
            <option value="{{ m }}">{{ m|replace('-', '/') }}</option>
          </select>

          <button
            id="starforge-downloadIcal"
            type="button"
            aria-label="Download calendar in iCal format"
            class="rounded px-4 py-1.5 bg-gradient-to-r from-yellow-400 to-yellow-300 text-black font-semibold shadow hover:bg-yellow-300 transition"
          >
            üìÖ Download iCal
          </button>
        </form>

        <!-- üìÖ CALENDAR TABLE -->
        <div class="overflow-x-auto rounded-xl bg-zinc-900/80 shadow-xl mb-6">
          <table class="min-w-full text-left" id="starforge-eventTable">
            <thead>
              <tr
                class="text-yellow-400 bg-zinc-800/80 uppercase text-xs font-bold"
              >
                <th class="py-3 px-4">Date</th>
                <th class="py-3 px-4">Opponent / Event</th>
                <th class="py-3 px-4">Location</th>
                <th class="py-3 px-4">Time</th>
                <th class="py-3 px-4">Result</th>
                <th class="py-3 px-4">Notes</th>
              </tr>
            </thead>
            <tbody>
              {% for event in events %}
              <tr
                class="{% if event.is_upcoming %}bg-yellow-400/20 text-yellow-200{% elif 'W' in event.result %}bg-green-500/20 text-green-100{% elif 'L' in event.result %}bg-red-500/20 text-red-100{% else %}bg-zinc-900/80{% endif %}"
                data-starforge-event-month="{{ event.date[:7] if event and event.date else '' }}"
                data-starforge-event-outcome="{% if 'W' in event.result %}win{% elif 'L' in event.result %}loss{% elif event.is_upcoming %}upcoming{% else %}other{% endif %}"
              >
                <td class="py-3 px-4">{{ event.date|replace('-', '/') }}</td>
                <td class="py-3 px-4 font-bold">
                  {{ event.opponent }} {% if event.sponsor %}
                  <span class="block text-xs text-yellow-300/80 mt-1">
                    Sponsored by {{ event.sponsor }}
                  </span>
                  {% endif %}
                </td>
                <td class="py-3 px-4">{{ event.location }}</td>
                <td class="py-3 px-4">{{ event.time }}</td>
                <td class="py-3 px-4 font-bold">
                  {% if 'W' in event.result %}üü¢ Win{% elif 'L' in event.result
                  %}üî¥ Loss{% else %}‚Äî{% endif %}
                </td>
                <td class="py-3 px-4 italic">{{ event.highlight }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- üìù ICAL EXPORT & FILTER SCRIPT -->
        <script>
          // ---- iCal Export ----
          document.getElementById("starforge-downloadIcal").addEventListener("click", () => {
            let ical = "BEGIN:VCALENDAR\nVERSION:2.0\n";
            {% for event in events %}
            ical += `BEGIN:VEVENT\nSUMMARY:{{ event.opponent|escape }}\nDTSTART;VALUE=DATE:{{ event.date|replace("-", "") }}\nDESCRIPTION:{{ event.type|escape }} - {{ event.result|escape }}\nLOCATION:{{ event.location|escape }}\nEND:VEVENT\n`;
            {% endfor %}
            ical += "END:VCALENDAR";
            const blob = new Blob([ical], { type: "text/calendar" });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.href = url;
            link.download = "ConnectATXElite-Schedule.ics";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
          });

          // ---- Calendar Filters (no reload) ----
          const outcomeSelect = document.getElementById("starforge-filterOutcome");
          const monthSelect = document.getElementById("starforge-filterMonth");
          const eventRows = document.querySelectorAll("#starforge-eventTable tbody tr");

          function filterCalendar() {
            const outcome = outcomeSelect.value;
            const month = monthSelect.value;
            eventRows.forEach(row => {
              const matchOutcome = (outcome === "all") || (row.dataset.starforgeEventOutcome === outcome);
              const matchMonth = (month === "all") || (row.dataset.starforgeEventMonth === month);
              row.style.display = (matchOutcome && matchMonth) ? "" : "none";
            });
          }

          outcomeSelect.addEventListener("change", filterCalendar);
          monthSelect.addEventListener("change", filterCalendar);

          // Accessibility: focus next upcoming row when filtering to upcoming
          outcomeSelect.addEventListener("change", () => {
            if (outcomeSelect.value === "upcoming") {
              const nextRow = document.querySelector('tr[data-starforge-event-outcome="upcoming"]');
              if (nextRow) nextRow.focus();
            }
          });
        </script>

        <!-- =========== WATCH OUR STORY MODAL (STARFORGE ELITE) =========== -->
        <div class="text-center starforge-my-16">
          <button
            id="starforge-storyBtn"
            type="button"
            aria-haspopup="dialog"
            aria-controls="starforge-storyModal"
            aria-expanded="false"
            class="inline-flex items-center gap-3 bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 text-black font-black px-10 py-4 rounded-full shadow-lg hover:scale-105 hover:shadow-yellow-400/50 focus:ring-4 ring-yellow-300 transition-all text-lg md:text-xl animate-pulse"
          >
            ‚ñ∂Ô∏è
            <span class="hidden sm:inline">Watch Our Story</span>
          </button>
        </div>

        <dialog
          id="starforge-storyModal"
          role="dialog"
          aria-modal="true"
          aria-labelledby="starforge-storyModalTitle"
          aria-hidden="true"
          class="p-0 rounded-3xl overflow-hidden shadow-2xl bg-black/95 backdrop-blur-lg max-w-3xl w-full mx-auto border-4 border-yellow-400/70 transition-all scale-95 opacity-0"
        >
          <button
            type="button"
            aria-label="Close video modal"
            class="absolute top-4 right-4 text-white text-4xl hover:text-yellow-300 focus:ring-2 ring-yellow-300 z-50"
            onclick="closeModal()"
          >
            √ó
          </button>

          <div class="flex flex-col items-center p-6 animate-fade-in-down">
            <h2
              id="starforge-storyModalTitle"
              class="text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 bg-clip-text text-transparent mb-4 text-center drop-shadow-xl animate-shine"
            >
              Our Story: On & Off The Court
            </h2>

            <!-- Video Tabs -->
            <div
              class="flex gap-3 md:gap-5 mb-6 flex-wrap justify-center"
              role="tablist"
            >
              <button
                id="starforge-tab-myvideo"
                role="tab"
                aria-controls="starforge-panel-myvideo"
                aria-selected="true"
                class="py-2 px-5 rounded-full font-semibold shadow bg-yellow-400 text-black hover:scale-105 transition"
              >
                üé• Team Video
              </button>
              <button
                id="starforge-tab-kvue"
                role="tab"
                aria-controls="starforge-panel-kvue"
                aria-selected="false"
                class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
              >
                üì∫ KVUE News
              </button>
              <button
                id="starforge-tab-youtube"
                role="tab"
                aria-controls="starforge-panel-youtube"
                aria-selected="false"
                class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
              >
                üèÄ YouTube
              </button>
            </div>

            <!-- Video Panels -->
            <div
              id="starforge-panel-myvideo"
              role="tabpanel"
              aria-labelledby="starforge-tab-myvideo"
              class="w-full max-w-2xl aspect-video mx-auto block"
            >
              <video
                controls
                poster="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
                class="rounded-xl border-4 border-yellow-300 shadow-lg w-full h-auto bg-black"
              >
                <source
                  src="{{ url_for('static', filename='connect-atx-story.mp4') }}"
                  type="video/mp4"
                />
                Sorry, your browser doesn‚Äôt support embedded videos.
              </video>
            </div>
            <div
              id="starforge-panel-kvue"
              role="tabpanel"
              aria-labelledby="starforge-tab-kvue"
              class="w-full max-w-2xl aspect-video mx-auto hidden"
            >
              <iframe
                src="https://www.kvue.com/embeds/video/responsive/269-beeecfc1-eb68-4cca-8ec5-417b66d8cbfa/iframe"
                width="100%"
                height="360"
                allowfullscreen
                class="border-2 border-yellow-300 rounded-xl"
              ></iframe>
            </div>
            <div
              id="starforge-panel-youtube"
              role="tabpanel"
              aria-labelledby="starforge-tab-youtube"
              class="w-full max-w-2xl aspect-video mx-auto hidden"
            >
              <iframe
                src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                width="100%"
                height="360"
                allowfullscreen
                class="border-2 border-yellow-300 rounded-xl"
              ></iframe>
            </div>

            <div class="mt-5 text-xs text-zinc-300 text-center">
              <strong class="text-yellow-300">Connect ATX Elite</strong>
              | Family-run. Community-powered. Champions rising.
            </div>
          </div>
        </dialog>

        <script>
          (() => {
            const storyBtn = document.getElementById("starforge-storyBtn");
            const modal = document.getElementById("starforge-storyModal");
            const tabs = modal.querySelectorAll('[role="tab"]');
            const panels = modal.querySelectorAll('[role="tabpanel"]');
            let lastFocused;

            function openModal() {
              lastFocused = document.activeElement;
              modal.showModal();
              modal.classList.replace("scale-95", "scale-100");
              modal.classList.replace("opacity-0", "opacity-100");
              modal.setAttribute("aria-hidden", "false");
              storyBtn.setAttribute("aria-expanded", "true");
              tabs[0].focus();
            }

            function closeModal() {
              modal.classList.replace("scale-100", "scale-95");
              modal.classList.replace("opacity-100", "opacity-0");
              setTimeout(() => {
                modal.close();
                modal.setAttribute("aria-hidden", "true");
                storyBtn.setAttribute("aria-expanded", "false");
                lastFocused?.focus();
              }, 200);
            }

            storyBtn.addEventListener("click", openModal);
            modal
              .querySelector('[aria-label="Close video modal"]')
              .addEventListener("click", closeModal);

            tabs.forEach((tab) =>
              tab.addEventListener("click", () => {
                tabs.forEach((t) => {
                  t.setAttribute("aria-selected", "false");
                  t.classList.replace("bg-yellow-400", "bg-zinc-800");
                  t.classList.replace("text-black", "text-yellow-300");
                });
                panels.forEach((p) => p.classList.add("hidden"));

                tab.setAttribute("aria-selected", "true");
                tab.classList.replace("bg-zinc-800", "bg-yellow-400");
                tab.classList.replace("text-yellow-300", "text-black");
                document
                  .getElementById(tab.getAttribute("aria-controls"))
                  .classList.remove("hidden");
              }),
            );
          })();
        </script>

        <!-- =========== ELITE SITE FOOTER (STARFORGE ENHANCED) =========== -->
        <footer
          id="starforge-site-footer"
          role="contentinfo"
          class="bg-black text-yellow-300 shadow-inner py-8"
        >
          <div
            class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8"
          >
            <!-- Column 1: Brand -->
            <section aria-label="Brand and location" class="space-y-2">
              <div
                class="text-xl font-black bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent animate-shine"
              >
                Connect ATX Elite
              </div>
              <div class="text-sm">AAU 12U | Austin, TX</div>
              <div class="text-xs">¬© {{ now().year }}</div>
              <div class="space-x-4">
                <a
                  href="https://instagram.com/connectatxelite"
                  target="_blank"
                  rel="noopener"
                  >üì∏ Instagram</a
                >
                <a
                  href="https://facebook.com/connectatxelite"
                  target="_blank"
                  rel="noopener"
                  >üìò Facebook</a
                >
              </div>
            </section>

            <!-- Column 2: Progress + Links -->
            <section
              aria-label="Fundraising progress and links"
              class="space-y-3"
            >
              <div
                role="progressbar"
                aria-label="Fundraising progress: ${{ stats.raised }} of ${{ stats.goal }} raised"
                aria-valuemin="0"
                aria-valuemax="{{ stats.goal }}"
                aria-valuenow="{{ stats.raised }}"
                class="bg-zinc-800 rounded-full overflow-hidden h-5 shadow-inner border border-yellow-300/30"
              >
                <div
                  class="h-full bg-gradient-to-r from-yellow-400 to-amber-300 transition-all"
                  style="width: {{ ((stats.raised/stats.goal)*100)|round(1) }}%;"
                ></div>
              </div>
              <div class="font-semibold">
                ${{ stats.raised }} of ${{ stats.goal }} raised
              </div>
              <nav aria-label="Footer links" class="space-x-4">
                <a href="mailto:arodgps@gmail.com">üìß Email</a>
                <a
                  href="https://www.connectatxelite.com"
                  target="_blank"
                  rel="noopener"
                  >üåê Website</a
                >
                <a
                  href="https://www.paypal.com/donate/your-link"
                  target="_blank"
                  rel="noopener"
                  >üí∏ Donate</a
                >
              </nav>
            </section>

            <!-- Column 3: Contact + Countdown -->
            <section aria-label="Contact and countdown" class="space-y-2">
              <div>
                <strong>Contact:</strong>
                <a href="mailto:arodgps@gmail.com">arodgps@gmail.com</a>
              </div>
              <div>
                <strong>Phone:</strong>
                <a href="tel:+15128200475">(512) 820-0475</a>
              </div>
              <div id="starforge-next-game-countdown" aria-live="polite">
                Next Tournament:
                <span id="starforge-countdown-timer">Loading‚Ä¶</span>
              </div>
            </section>
          </div>

          <div class="mt-6 text-center text-sm">
            <b>Recent Supporters:</b> Acme Corp ‚Ä¢ Jane D. ‚Ä¢ Smith & Co ‚Ä¢ Austin
            Hoops
          </div>
        </footer>
        {% endblock %}
      </section>
    </div>
  </body>
</html>
