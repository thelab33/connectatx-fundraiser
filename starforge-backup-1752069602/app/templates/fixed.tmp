<!doctype html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
      name="description"
    />
    <title>{% block title %}Connect ATX Elite{% endblock %}</title>
      rel="icon"
      href="{{ url_for('static', filename='favicon.png') }}"
    <link
      rel="stylesheet"
    <link
      as="image"
    />
      rel="preload"
      href="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
    <!-- [Optional] Analytics, Open Graph, Twitter meta tags here -->
      /* ===== Consolidate your custom CSS here ===== */
    </style>

    {#
    base.html – Starforge Elite • Luxe SaaS Boilerplate (Jinja2, PRO Refactor)
    - Zero logo/hero image duplication - All branding & dynamic assets are
    ==============================================================================
    <meta charset="utf-8" />
    <title>
      'Connect ATX Elite' }} {% endblock %}
    <link rel="canonical" href="{{ request.url_root }}" />
      name="description"
    />
    <meta
      content="{{ team.theme_color if team and team.theme_color else '#facc15' }}"
    <meta property="og:type" content="website" />
      property="og:title"
    />
      property="og:description"
    />
      property="og:image"
    />
    <meta name="twitter:creator" content="@ConnectATXElite" />{# ----
    <link
      href="{{ url_for('static', filename='site.webmanifest') }}"
    <link
      type="image/png"
      href="{{ url_for('static', filename=team.favicon if team and team.favicon else 'favicon.png') }}"
    <link
      href="{{ url_for('static', filename=team.apple_icon if team and team.apple_icon else 'images/logo.png') }}"
    {% endblock %} {# ---- CSS ---- #}
      rel="preload"
      href="{{ url_for('static', filename='css/tailwind.min.css') }}"
    <link
      href="{{ url_for('static', filename='css/tailwind.min.css') }}"
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />{%
    <link
      href="{{ url_for('static', filename='css/' ~ team.custom_css) }}"
    head_extra %}{% endblock %}
    <a
      class="sr-only focus:not-sr-only absolute top-2 left-2 bg-yellow-400 text-black font-semibold px-3 py-1 rounded-lg z-50"
    >
    #}
      type="button"
      aria-label="Toggle dark/light mode"
    >
    </button>
    block announcement %}{% endblock %}
    <main id="starforge-main" role="main" tabindex="-1">
    </main>
    Scripts (AOS, confetti, analytics, Stripe, etc) ---- #} {% block scripts %}
    <!-- Place any per-project JS here, but prefer child blocks for per-page logic -->
    <!-- Mobile-only bottom CTA bar (not duplicated in partials or index) -->
    <div
      role="region"
      tabindex="0"
      <span class="font-bold text-zinc-900 starforge-text-lg"
      >
        onclick="openSponsorModal()"
        aria-label="Open sponsor modal"
        🌟 Sponsor Now
    </div>
    {% endblock %}
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@4.1.11/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </body>
</html>
<!doctype html>
<html>
  <head>
    <meta
      name="generator"
      content="HTML Tidy for HTML5 for Linux version 5.8.0"
    />
    <title></title>
    <style>
      .shimmer {
        background: linear-gradient(
          110deg,
          #fde68a 30%,
          #facc15 55%,
          #fffbe6 65%,
          #fde68a 80%
        );
        background-size: 200% 100%;
        animation: shimmerMove 3.7s linear infinite;
      }
      @keyframes shimmerMove {
        0% {
          background-position: 100% 0;
        }
        100% {
          background-position: 0 0;
        }
      }
      .gold-glow {
        box-shadow:
          0 0 16px #facc15bb,
          0 0 1px #fde68a;
      }
      .silver-glow {
        box-shadow:
          0 0 10px #e5e7ebaa,
          0 0 2px #fde68a;
      }
      .bronze-glow {
        box-shadow:
          0 0 10px #fbbf24aa,
          0 0 1px #fde68a;
      }
      .animate-fade-in {
        animation: fadeInUp 1.3s both;
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(25px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
    <style>
      @keyframes sparkle {
        0%,
        100% {
          opacity: 0.8;
          filter: drop-shadow(0 0 5px #facc15);
        }
        50% {
          opacity: 1;
          filter: drop-shadow(0 0 18px #fde68a);
        }
      }
      .animate-sparkle {
        animation: sparkle 1.3s ease-in-out 2 alternate;
      }
      .widget-count.pulse {
        animation: bounce-in 0.6s;
      }
      @keyframes bounce-in {
        0% {
          transform: scale(0.8);
        }
        60% {
          transform: scale(1.18);
        }
        100% {
          transform: scale(1);
        }
      }
    </style>
    <style>
      :root {
        --primary-yellow: #facc15;
        --bg-dark: #000;
        --text-light: #fff;
        --stat-bg: rgba(36, 36, 36, 0.88);
        --stat-border: rgba(250, 205, 21, 0.28);
        --header-height: 4rem;
        --scroll-offset: calc(var(--header-height) + 1rem);
      }
      section[id] {
        scroll-margin-top: var(--scroll-offset);
      }
      .connect-stats {
        padding: 4rem 1.5rem 3.5rem;
        background: linear-gradient(99deg, var(--bg-dark) 72%, #18181b 100%);
        color: var(--text-light);
        text-align: center;
        user-select: none;
        position: relative;
        z-index: 1;
      }
      .stats-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 2.2rem;
        max-width: 64rem;
        margin: 0 auto;
      }
      .stat-card {
        background: var(--stat-bg);
        border: 2px solid var(--stat-border);
        border-radius: 1.3rem;
        padding: 2.2rem 1.2rem;
        width: 10rem;
        min-width: 8.3rem;
        box-shadow: 0 4px 18px #18181b44;
        position: relative;
        transition:
          transform 0.23s,
          box-shadow 0.23s,
          border 0.2s;
        outline: none;
      }
      .stat-card:focus-within,
      .stat-card:focus,
      .stat-card:hover {
        transform: scale(1.08) translateY(-3px);
        box-shadow:
          0 0 0 4px var(--primary-yellow),
          0 8px 28px #facc1555;
        z-index: 10;
        border: 2.3px solid #fde68a;
      }
      .stat-card .info {
        position: absolute;
        top: 1rem;
        right: 1rem;
        font-size: 1.3rem;
        color: #fde68a;
        opacity: 0.7;
        cursor: pointer;
        transition: opacity 0.15s;
      }
      .stat-card .info:hover,
      .stat-card .info:focus {
        opacity: 1;
      }
      .counter {
        font-size: 2.9rem;
        font-weight: 900;
        color: var(--primary-yellow);
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 7px #facc1533;
        letter-spacing: -0.01em;
        font-variant-numeric: tabular-nums;
        line-height: 1.09;
        transition: color 0.2s;
      }
      .label {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.91);
        font-weight: 700;
        letter-spacing: -0.01em;
      }
      .stat-confetti {
        position: absolute;
        left: 55%;
        top: 18%;
        z-index: 99;
        pointer-events: none;
        font-size: 2.2rem;
        opacity: 0;
        transition: opacity 0.5s;
        filter: drop-shadow(0 1px 8px #fde68a77);
      }
      @media (max-width: 900px) {
        .stats-grid {
          gap: 1.1rem;
        }
        .stat-card {
          width: 8.2rem;
          padding: 1.3rem 0.7rem;
        }
        .counter {
          font-size: 2rem;
        }
      }
      @media (max-width: 600px) {
        .connect-stats {
          padding: 2.1rem 0.25rem 1.5rem;
        }
        .stats-grid {
          gap: 0.55rem;
        }
        .stat-card {
          min-width: 6rem;
        }
      }
    </style>
    <style>
      .progress-bar-bg {
        background: rgba(250, 204, 21, 0.1);
        border-radius: 9999px;
        height: 1.25rem;
        width: 100%;
        overflow: hidden;
        box-shadow: inset 0 0 10px rgba(250, 204, 21, 0.5);
      }
      .progress-bar {
        background: linear-gradient(90deg, #facc15, #fde68a);
        height: 100%;
        border-radius: 9999px;
        width: 0;
        animation: progress-load 1.8s ease forwards;
      }
      @keyframes progress-load {
        from {
          width: 0;
        }
        to {
          width: var(--progress-width);
        }
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 2rem;
        padding: 2rem 1rem;
        max-width: 90rem;
        margin: auto;
      }
      .footer-links a,
      .contact-block a {
        display: inline-block;
        margin-right: 0.75rem;
        color: #facc15;
        text-decoration: none;
        transition: color 0.2s ease;
      }
      .footer-links a:hover,
      .contact-block a:hover {
        text-decoration: underline;
        color: #fde68a;
      }
      .supporters {
        text-align: center;
        padding: 1rem;
        font-size: 0.85rem;
        color: #fde68a;
      }
      .countdown {
        font-weight: 700;
        margin-top: 0.5rem;
        color: #fde68a;
      }
    </style>
  </head>
  <body>
    {# ===================== Starforge SaaS Landing: Context + Announcement
    ==================== #} {% set badge = badge if badge is defined else None
    %} {% set challenge = challenge if challenge is defined else {"metrics": []}
    %} {% set color_classes = color_classes if color_classes is defined else ""
    %} {% set event = event if event is defined else None %} {% set log = log if
    log is defined else None %} {% set metric = metric if metric is defined else
    None %} {% set next_game = next_game if next_game is defined else None %} {%
    set p = p if p is defined else None %} {% set request = request if request
    is defined else None %} {% set size_classes = size_classes if size_classes
    is defined else "" %} {% set sponsor = sponsor if sponsor is defined else
    None %} {% set stat = stat if stat is defined else None %} {% set widget =
    widget if widget is defined else None %} {% set stats = stats if stats is
    defined else {'raised': 0, 'goal': 10000} %} {% set base = base if base is
    defined else "base.html" %} {% set players = players if players is defined
    else [ {'name':'Andre','img':'images/players/player1.jpg'},
    {'name':'Jordan','img':'images/players/player2.jpg'},
    {'name':'Malik','img':'images/players/player3.jpg'},
    {'name':'CJ','img':'images/players/player4.jpg'},
    %} {% block title %}Home · {{ team.team_name if team is defined and
    team.team_name is defined else 'Connect ATX Elite' }}{% endblock %} {% block
    Countdown/CTA =================== #} {% set fundraising_end =
    team.fundraiser_ends if team and team.fundraiser_ends else None %} {% set
    fundraising_goal = stats.goal if stats and stats.goal else 10000 %}
    <div
      id="starforge-announcement-bar"
      class="w-full bg-gradient-to-r from-yellow-400 via-red-600 to-black text-zinc-900 font-bold text-center py-2 px-4 animate-pulse shadow-lg"
      role="region"
      aria-live="polite"
      aria-atomic="true"
    >
      🚨 {{ team.announcement if team and team.announcement else "Championship
      Fundraiser is LIVE!" }} {% if fundraising_end %}
      <span
        class="ml-2 text-xs text-black/70 font-starforge-semibold"
        id="countdown-timer"
      ></span>
      <script>
        // Simple countdown timer for fundraising_end (expects ISO date)
        (function () {
          var end = new Date("{{ fundraising_end }}").getTime();
          var timer = document.getElementById("countdown-timer");
          if (timer) {
            setInterval(function () {
              var now = new Date().getTime();
              var dist = end - now;
              if (dist < 0) {
                timer.innerText = "Closed!";
                return;
              }
              var days = Math.floor(dist / (1000 * 60 * 60 * 24));
              var hrs = Math.floor(
                (dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
              );
              timer.innerText = "Only " + days + "d " + hrs + "h left!";
            }, 60000);
          }
        })();
      </script>
      {% endif %} —
      <a href="#tiers" class="underline hover:text-white transition"
        >{{ team.cta_label if team and team.cta_label else "Join Our Champion
        Circle" }}</a
      >
    </div>
    {# =================== HEADER (Auto-Onboarded Team) =================== #}
    <header
      class="sticky top-0 z-40 w-full backdrop-blur bg-black/85 border-b border-yellow-300/15 shadow-lg transition-all"
      role="banner"
      aria-label="Site header"
    >
      <div
        class="container mx-auto flex items-center justify-between px-4 py-4 lg:px-8"
      >
        {% set logo_src = team.logo if team and team.logo else url_for('static',
        filename='images/logo.webp') %}
        <a
          href="{{ url_for('main.home') }}"
          class="flex items-center gap-3 focus-visible:ring-4 focus-visible:ring-yellow-400 rounded-lg group"
          aria-label="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} – Home"
        >
          <img
            src="{{ logo_src }}"
            alt="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} logo"
            class="h-12 w-12 rounded-full ring-2 ring-yellow-300 shadow-md transition-transform duration-200 group-hover:scale-110"
            loading="eager"
            decoding="async"
            fetchpriority="high"
          />
          <span
            class="text-2xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-50 bg-clip-text text-transparent drop-shadow-sm select-none"
          >
            {{ team.team_name if team and team.team_name else 'Connect ATX
            Elite' }}</span
          ></a
        >
        {% if current_user and current_user.is_authenticated %}
        <span
          class="hidden md:inline ml-4 px-3 py-1 rounded-full bg-yellow-100 text-zinc-900 font-semibold shadow select-none"
          aria-label="Greeting message"
          >Hi, {{ current_user.name.split()[0] if current_user.name }}</span
        >
        {% endif %} {# Nav, Donate, Sponsor Now: modular and onboarding ready #}
        <nav
          class="hidden lg:flex items-center gap-7 text-base font-semibold text-zinc-100"
          aria-label="Primary navigation"
        >
          {% set nav_links = team.nav_links if team and team.nav_links else [
          ('about-and-challenge', 'About'), ('tiers', 'Tiers'),
          ('sponsor-elite-wall', 'Sponsors'), ('testimonials', 'Testimonials'),
          <a
            href="#{{ id }}"
            class="relative transition hover:text-yellow-300 focus-visible:ring-2 ring-yellow-300 rounded px-1 py-0.5 group"
          >
            {{ label }}</a
          >
          {% endfor %}
          <button
            type="button"
            onclick="openSponsorModal()"
            class="ml-5 px-5 py-2 bg-gradient-to-r from-yellow-400 to-yellow-200 text-black font-bold rounded-full shadow-xl hover:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-400 transition-all"
          >
            🌟 Sponsor Now
          </button>
          <a
            href="#donate"
            class="ml-2 px-5 py-2 bg-black/70 border-yellow-300/50 text-yellow-300 font-bold rounded-full shadow hover:bg-yellow-400 hover:text-black transition-all"
          >
            💸 Donate</a
          >
        </nav>
        {# Mobile nav toggle #}
        <button
          id="starforge-mobile-nav-toggle"
          onclick="toggleMobileNav()"
          class="lg:hidden inline-flex items-center justify-center p-2 rounded-lg border-yellow-300/40 hover:bg-yellow-300/10 focus-visible:ring-2 ring-yellow-300"
          aria-label="Toggle menu"
          aria-expanded="false"
        >
          <svg
            class="w-7 h-7 text-yellow-300"
            fill="none"
            stroke="currentcolor"
            stroke-width="2"
            viewbox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"
            ></path>
          </svg>
        </button>
      </div>
      <nav
        id="starforge-mobile-nav"
        class="fixed inset-0 z-[9998] hidden flex-col items-center justify-center gap-8 bg-black/90 backdrop-blur-lg shadow-2xl"
        role="dialog"
        aria-modal="true"
        aria-label="Mobile navigation menu"
      >
        <button
          type="button"
          onclick="toggleMobileNav()"
          class="absolute top-6 right-6 text-2xl text-yellow-300 p-2 rounded-full bg-zinc-800/70 hover:text-red-500 focus-visible:ring-4 ring-yellow-300"
          aria-label="Close menu"
        >
          ×
        </button>
        {% for id, label in nav_links %}
        <a
          href="#{{ id }}"
          onclick="toggleMobileNav()"
          class="text-3xl font-extrabold tracking-tight bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl hover:scale-105 transition"
        >
          {{ label }}</a
        >
        {% endfor %}
        <button
          type="button"
          onclick="openSponsorModal()"
          class="mt-8 px-7 py-3 bg-yellow-400 text-black font-bold rounded-full shadow-xl text-2xl hover:scale-105 focus-visible:ring-4 ring-yellow-300"
        >
          🌟 Sponsor Now
        </button>
      </nav>
    </header>
    <script>
      function toggleMobileNav() {
        const nav = document.getElementById("mobile-nav");
        const btn = document.getElementById("mobile-nav-toggle");
        const open = nav.classList.contains("flex");
        nav.classList.toggle("hidden", open);
        nav.classList.toggle("flex", !open);
        btn.setAttribute("aria-expanded", String(!open));
        document.body.style.overflow = open ? "" : "hidden";
      }
    </script>
    {# =================== THEME SWITCHER =================== #}
    <button
      id="starforge-theme-switch"
      class="fixed top-5 right-5 z-[9999] bg-zinc-800/70 backdrop-blur-lg p-2 rounded-full border border-zinc-700 hover:scale-110 transition"
      aria-label="Toggle light/dark"
    >
      <span id="dupe-starforge-theme-icon" class="text-yellow-300 text-xl">🌙</span>
    </button>
    {# =================== HERO BLOCK, FUNDRAISING, TRUST BADGES
    =================== #}
    <section
      id="starforge-hero"
      class="relative min-h-[80vh] flex flex-col items-center justify-center overflow-hidden rounded-3xl shadow-starforge-brand mb-10 bg-black text-center"
    >
      <div
        class="absolute inset-0 bg-gradient-to-br from-black/85 via-zinc-900/60 to-yellow-950/60"
      ></div>
      <div class="relative z-10 flex flex-col items-center w-starforge-full">
        <img
          src="{{ url_for('static', filename=(team.jpg if team and team.jpg else 'images/connect-atx-team.jpg')) }}"
          alt="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} team group photo"
          class="w-full max-w-4xl rounded-3xl shadow-gold-aura border-4 border-yellow-400/40 mx-auto mb-8 animate-pop"
          loading="eager"
          decoding="async"
          style="object-fit: cover; aspect-ratio: 16/7"
        />
        <img
          src="{{ logo_src }}"
          alt="{{ team.team_name if team and team.team_name else 'Connect ATX Elite' }} logo"
          class="absolute left-8 top-8 w-20 h-20 sm:w-28 sm:h-28 rounded-full ring-4 ring-yellow-400 bg-white shadow-gold-glow animate-pop"
        />
      </div>
      <div
        class="relative z-20 container mx-auto max-w-3xl px-4 py-10 text-center"
        data-starforge-starforge-aos="fade-up"
      >
        {% if current_user is defined and current_user.is_authenticated %}
        <span
          class="inline-flex items-center gap-2 px-6 py-2 mb-5 rounded-xl font-semibold text-zinc-900 bg-gradient-to-r from-yellow-400 to-yellow-200 shadow animate-shine"
          aria-live="polite"
          >Welcome, {{ current_user.name.split()[0] if current_user.name }}
          <span class="animate-sparkle">✨</span></span
        >
        {% endif %}
        <h1
          id="starforge-hero-heading"
          class="text-5xl sm:text-6xl font-extrabold tracking-tight bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-slide-up"
          tabindex="0"
        >
          {{ team.hero_heading if team and team.hero_heading else "Connect ATX
          Elite" }}
        </h1>
        <p
          class="mt-4 text-lg sm:text-xl text-zinc-100/90 max-w-xl animate-slide-up delay-100"
          data-starforge-starforge-aos="fade-up"
          data-starforge-starforge-aos-delay="100"
          tabindex="0"
        >
          {{ team.hero_subheading if team and team.hero_subheading else
          "Family-run AAU program turning <strong>East Austin</strong> students
          into honor-roll athletes and leaders." | safe }}
        </p>
        <button
          onclick="openSponsorModal()"
          class="inline-flex items-center gap-2 bg-yellow-400 text-zinc-900 font-bold px-8 py-4 mt-8 rounded-full shadow-xl hover:bg-yellow-300 hover:scale-105 transition focus-visible:ring-4 ring-yellow-300 uppercase tracking-wider animate-pop"
          aria-label="Join our champion circle"
        >
          🌟 Join Our Champion Circle
        </button>
        <div
          class="flex flex-wrap gap-4 mt-10 justify-center animate-fade-in"
          data-starforge-starforge-aos="fade-up"
          data-starforge-starforge-aos-delay="200"
          aria-label="Trusted by"
        >
          {% for badge in team.trust_badges if team and team.trust_badges else [
          {'label': 'Austin Youth Org'}, {'label': 'KVUE News'}, {'label': '🏅
          Trusted by 500+ Families'}, {'label': '📚 3.5 Team GPA'}, {'label':
          <span
            class="bg-white/10 text-white px-3 py-1 rounded-full text-xs font-semibold"
          >
            {{ badge.label }}</span
          >
          {% endfor %}
        </div>
        <div
          class="mt-8 w-full max-w-lg mx-starforge-auto"
          role="region"
          aria-label="Fundraising progress"
        >
          {% set progress_percent = ((stats.raised / stats.goal) * 100) |
          round(1) if stats and stats.goal else 0 %}
          <div
            class="relative h-6 bg-zinc-800 rounded-full overflow-hidden shadow-inner border border-yellow-300/30"
          >
            <div
              class="absolute top-0 left-0 h-full bg-gradient-to-r from-yellow-400 to-amber-300 transition-all"
              style="width: {{ progress_percent }}%;"
            ></div>
            <div
              class="absolute inset-0 flex justify-center items-center text-xs font-bold text-yellow-900"
            >
              {{ progress_percent }}% to ${{ stats.goal | int | default(10000)
              }} goal!
            </div>
          </div>
          <p class="text-yellow-200 text-sm starforge-mt-2">
            Unlock new uniforms when we hit <b>$5,000</b>!
          </p>
          <div
            class="mt-10 flex flex-col gap-2 text-white/90 text-lg items-center animate-fade-in"
            data-starforge-starforge-aos="fade-up"
            data-starforge-starforge-aos-delay="300"
          >
            <span class="font-bold text-yellow-400 starforge-text-2xl"
              >Raised: ${{ stats.raised | int }} / ${{ stats.goal | int }}</span
            >
            <span class="text-starforge-zinc-400/80"
              >💰 ${{ stats.raised | int }} raised of ${{ stats.goal | int
              }}</span
            >
            <span class="block font-bold text-yellow-300/80"
              >{{ progress_percent }}% of our goal achieved</span
            >
          </div>
        </div>
      </div>
    </section>
    <!-- ========== IMPACT STATS GRID (SaaS-ready, no duplicates) ========== -->
    <div
      class="relative z-10 mt-10 max-w-3xl mx-auto text-center flex flex-wrap justify-center gap-6"
      data-starforge-starforge-aos="fade-up"
      role="list"
      aria-label="Impact statistics"
    >
      {%- set stats_list = mission.stats if mission is defined and mission.stats
      is defined else [ {'label':'Players Enrolled', 'value':16},
      {'label':'Honor Roll Scholars', 'value':11}, {'label':'Tournaments
      stat in stats_list %}
      <div
        role="listitem"
        tabindex="0"
        aria-label="{{ stat.label }}: {{ stat.value }}"
        class="w-[calc(50%-1.5rem)] sm:w-[calc(25%-1.5rem)] bg-zinc-900/70 shadow-lg rounded p-4 transition-transform duration-300 hover:scale-110 focus:scale-110 focus-visible:ring-2 focus-visible:ring-yellow-400"
      >
        <span
          class="text-3xl font-extrabold text-amber-400 starforge-counter block"
          data-starforge-starforge-target="{{ stat.value }}"
          aria-live="polite"
          >0</span
        >
        <p
          class="mt-2 text-sm font-medium uppercase tracking-wide text-white/70 select-none"
        >
          {{ stat.label }}
        </p>
      </div>
      {% endfor %}
    </div>
    <script>
      // Animate stat counters
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".counter").forEach((el, i) => {
          const target = +el.dataset.target;
          let count = 0;
          const increment = Math.max(1, Math.ceil(target / 50));
          function step() {
            count += increment;
            if (count >= target) {
              el.textContent = target;
            } else {
              el.textContent = count;
              requestAnimationFrame(step);
            }
          }
          setTimeout(step, i * 140); // stagger for drama!
        });
      });
    </script>
    <!-- =========== SPONSOR CTA (Single, No Dupes) =========== -->
    <div
      class="text-center starforge-my-12"
      data-starforge-starforge-aos="fade-up"
      data-starforge-starforge-aos-delay="300"
    >
      <button
        onclick="openSponsorModal()"
        class="inline-block bg-gradient-to-r from-red-400 via-yellow-400 to-red-400 text-black font-bold px-8 py-3 rounded-full shadow-xl transition-transform hover:scale-105 focus:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-300 uppercase tracking-wide animate-pop"
        aria-controls="become-sponsor-modal"
        aria-haspopup="dialog"
      >
        🌟 Sponsor a Practice
      </button>
      <p class="mt-2 text-sm text-yellow-300 font-starforge-medium">
        Every gift makes court time possible.
      </p>
    </div>
    <!-- =========== TIERS BLOCK (No Duplicates, Modular) =========== -->
    <section
      id="starforge-tiers"
      class="py-16 px-4 sm:px-8 max-w-5xl mx-starforge-auto"
      aria-labelledby="tiers-heading"
    >
      <h2
        id="starforge-tiers-heading"
        class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-12"
        tabindex="0"
      >
        🌟 Choose Your Sponsorship Tier
      </h2>
      <div class="flex flex-wrap gap-10 justify-starforge-center">
        {% set tiers = [ { "emoji": "🥉", "title": "Bronze", "amount": "$100+",
        "details": ["Website mention", "Thank You card"], "border":
        "border-yellow-400/30", "gradient": "from-orange-200 via-yellow-50
        to-orange-100", "text": "text-orange-900", "shadow": "shadow-xl", "cta":
        "Choose Bronze" }, { "emoji": "🥈", "title": "Silver", "amount":
        "$500+", "details": ["Logo on banners", "All Bronze perks"], "border":
        "border-yellow-400/50", "gradient": "from-zinc-200 via-yellow-100
        to-zinc-100", "text": "text-yellow-900", "shadow": "shadow-xl", "cta":
        "Choose Silver" }, { "emoji": "🥇", "title": "Gold", "amount":
        "$1,000+", "details": ["Shoutout at games", "All Silver perks"],
        "border": "border-yellow-400/70", "gradient": "from-yellow-200
        via-yellow-50 to-yellow-300", "text": "text-yellow-900", "shadow":
        "shadow-xl", "cta": "Choose Gold" }, { "emoji": "🏆", "title":
        "Platinum", "amount": "$2,500+", "details": ["Logo on uniforms", "VIP
        access to events", "All Gold perks"], "border": "border-yellow-400/80",
        "gradient": "from-yellow-300 via-yellow-50 to-amber-100", "text":
        {% for tier in tiers %}
        <div
          class="flex flex-col items-center px-7 py-8 rounded-3xl border-2 {{ tier.border }} bg-gradient-to-br {{ tier.gradient }} {{ tier.text }} {{ tier.shadow }} w-[310px] min-h-[410px] transform transition-transform hover:scale-105 focus-within:scale-105 focus-within:ring-4 focus-within:ring-yellow-400 relative overflow-hidden group"
          tabindex="0"
          aria-label="{{ tier.title }} Sponsor Tier"
          role="listitem"
          aria-live="polite"
        >
          <span
            class="text-5xl mb-4 {% if tier.title == 'Platinum' %}animate-shine{% endif %} drop-shadow-xl group-hover:animate-spin-reverse-slow"
          >
            {{ tier.emoji }}</span
          >
          <h3 class="text-2xl font-bold mb-2 tracking-tight drop-shadow-sm">
            {{ tier.title }}
          </h3>
          <div class="text-lg font-mono mb-4 font-extrabold tracking-widest">
            {{ tier.amount }}
          </div>
          <ul class="text-sm mb-6 text-center space-y-2 starforge-opacity-90">
            {% for perk in tier.details %}
            <li
              class="relative pl-3 before:content-['✓'] before:absolute before:left-0 before:text-yellow-400 before:font-bold"
            >
              {{ perk }}
            </li>
            {% endfor %}
          </ul>
          <button
            onclick="openSponsorModal('{{ tier.title }}')"
            class="mt-auto px-7 py-2 bg-yellow-400 text-black font-bold rounded-full shadow-lg transition-transform hover:scale-110 hover:bg-yellow-300 focus-visible:ring-2 focus-visible:ring-yellow-300 uppercase tracking-wide"
            aria-label="Become a {{ tier.title }} sponsor"
          >
            {{ tier.cta }}
          </button>
          {% if tier.title == "Platinum" %}
          <span
            class="absolute top-4 right-4 text-yellow-500 text-xs font-bold bg-black/70 px-3 py-1 rounded-full shadow animate-pop"
          >
            LIMITED VIP</span
          >
          {% endif %}
        </div>
        {% endfor %}
      </div>
      <div
        class="mt-12 text-center text-yellow-700 text-base font-medium max-w-2xl mx-auto px-2 animate-fade-in"
      >
        <b
          >All sponsors receive recognition, impact reports, and lifelong
          gratitude from the team.</b
        >
        <span class="block text-yellow-400 mt-2 font-bold"
          >Want to discuss a custom partnership or recurring support?
          <a
            href="#contact"
            class="underline hover:text-yellow-600 starforge-transition"
            >Contact us</a
          >
          →</span
        >
      </div>
    </section>
    <!-- =========== TESTIMONIALS BLOCK (Single, Accessible, No Dupes) =========== -->
    <section
      id="starforge-testimonials"
      class="py-16 bg-gradient-to-b from-black via-zinc-900 to-black/90"
      role="region"
      aria-labelledby="testimonials-heading"
      tabindex="-1"
    >
      <div class="max-w-3xl mx-auto space-y-14 text-starforge-center">
        <!-- Sparkling Stars -->
        <div
          class="flex justify-center items-center gap-1 text-amber-400 text-3xl md:text-4xl animate-pulse select-none mt-2"
          aria-hidden="true"
        >
          <span class="animate-starforge-sparkle">★</span
          ><span class="animate-sparkle">★</span
          ><span class="animate-sparkle">★</span
          ><span class="animate-sparkle">★</span
          ><span class="animate-sparkle">★</span>
          <span
            class="ml-2 text-base font-semibold text-amber-200 animate-fade-in"
          >
            (5.0)</span
          >
        </div>
        <h2
          id="starforge-testimonials-heading"
          class="text-3xl md:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent mb-10 animate-shine"
          tabindex="0"
        >
          Real Stories, Real Impact
        </h2>
        <!-- Carousel -->
        <div class="relative max-w-2xl mx-auto starforge-mb-12">
          <!-- Use your existing carousel JS block, no duplicates needed -->
          <!-- ... see your original JS for animated/testimonial content ... -->
        </div>
        <!-- Team Photo (single use) -->
        <div class="flex justify-starforge-center">
          <img
            alt="Connect ATX Elite team celebrating with championship rings"
            src="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
            class="rounded-2xl shadow-2xl ring-4 ring-amber-300/50 object-cover max-w-md w-full"
            loading="lazy"
          />
        </div>
      </div>
    </section>
    <!-- =========== SPONSOR SPOTLIGHT WALL (Starforge Elite) =========== -->
    <section
      id="starforge-sponsor-spotlight-wall"
      class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
      aria-labelledby="sponsor-spotlight-heading"
      tabindex="-1"
    >
      <h2
        id="starforge-sponsor-spotlight-heading"
        class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-amber-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-10"
        tabindex="0"
      >
        🏆 Sponsor Spotlight Wall
        <span
          class="block text-base font-semibold text-yellow-300/80 mt-2 animate-fade-in"
        >
          {{ sponsors_sorted|length }} Champions | ${{
          sponsors_total|int|default(0) }} raised</span
        >
      </h2>
      <!-- Ribbon of Fame (tiny avatars/logos) -->
      <div class="flex flex-wrap justify-center gap-2 starforge-mb-8">
        <img
          src="{{ s.logo if s.logo.startswith('http') else url_for('static', filename='images/sponsors/' ~ (s.logo or 'logo.webp')) }}"
          alt="{{ s.name }} logo"
          class="w-9 h-9 rounded-full border-2 border-yellow-300 shadow-inner bg-white object-cover grayscale hover:grayscale-0 transition"
          loading="lazy"
          decoding="async"
          title="{{ s.name }}"
        />
        {% endfor %} {% if sponsors_sorted|length &lt; 12 %}
        <span
          class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-800 text-yellow-200 text-xs font-bold shadow border border-starforge-yellow-400/40"
        >
          + Your Brand Here</span
        >
        {% endif %}
      </div>
      <div class="flex flex-wrap justify-center starforge-gap-10">
        <div
          class="relative flex flex-col items-center px-6 py-7 rounded-3xl border-2 {{ 'border-yellow-400/50 bg-gradient-to-tr from-yellow-400 via-amber-200 to-yellow-400 text-yellow-900 shadow-[0_0_24px_#fde68a99] shimmer' if sponsor.tier == 'Platinum' else 'border-yellow-400/40 bg-gradient-to-tr from-yellow-300 via-amber-100 to-yellow-200 text-yellow-900 shadow-[0_0_12px_#facc15cc] gold-glow' if sponsor.tier == 'Gold' else 'border-yellow-400/30 bg-gradient-to-tr from-zinc-200 via-yellow-200 to-zinc-100 text-yellow-800 shadow-lg silver-glow' if sponsor.tier == 'Silver' else 'border-yellow-400/20 bg-gradient-to-tr from-orange-200 via-yellow-100 to-orange-300 text-orange-900 shadow-md bronze-glow' if sponsor.tier == 'Bronze' else 'border-zinc-700 bg-gradient-to-tr from-indigo-900 via-zinc-800 to-black text-blue-100 shadow-inner' }} group hover:scale-105 transition duration-300 focus-within:ring-4 focus-within:ring-yellow-400 min-w-[210px] max-w-xs outline-none"
          tabindex="0"
          aria-label="Sponsor: {{ sponsor.name }}"
          onfocus="showTooltip(this)"
          onblur="hideTooltip(this)"
          onmouseenter="showTooltip(this)"
          onmouseleave="hideTooltip(this)"
        >
          {% if sponsor.tier == 'Platinum' %}
          <span
            class="absolute top-2 right-2 shimmer animate-pulse pointer-events-none"
            aria-hidden="true"
            ><svg width="32" height="32">
              <circle
                cx="16"
                cy="16"
                r="13"
                fill="#fde68a"
                opacity="0.7"
              ></circle></svg
          ></span>
          {% endif %} {% if sponsor.url %}
          <a
            href="{{ sponsor.url }}"
            target="_blank"
            rel="noopener sponsored"
            tabindex="-1"
            aria-label="Visit {{ sponsor.name }}"
            >{% endif %}
            <img
              src="{{ sponsor.logo if sponsor.logo.startswith('http') else url_for('static', filename='images/sponsors/' ~ (sponsor.logo or 'logo.webp')) }}"
              alt="{{ sponsor.name }} logo"
              class="w-20 h-20 mb-3 rounded-full border-4 border-yellow-400 shadow-inner bg-white object-cover transition-all hover:grayscale-0 grayscale group-hover:scale-110"
              loading="lazy"
              decoding="async"
            />
            {% if sponsor.url %}</a
          >{% endif %}
          <div class="flex flex-col items-starforge-center">
            <span
              class="text-xl font-extrabold text-yellow-900/90 group-hover:text-yellow-600 transition text-center"
            >
              {{ sponsor.name }} {% if sponsor.is_new %}
              <span
                class="ml-2 px-2 py-0.5 rounded-full text-[11px] bg-emerald-400/80 text-emerald-900 font-bold animate-pulse align-middle"
              >
                New!</span
              >
              {% elif sponsor.is_returning %}
              <span
                class="ml-2 px-2 py-0.5 rounded-full text-[11px] bg-blue-300/80 text-blue-900 font-bold animate-bounce align-middle"
              >
                Returning</span
              >
              {% endif %}</span
            >
            <span class="text-lg text-yellow-900/80 font-mono"
              >${{ '{:,.0f}'.format(sponsor.amount) }}</span
            >
            <span class="mt-2 flex gap-2 items-center"
              ><span
                class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide {{ 'bg-yellow-300 text-yellow-900' if sponsor.tier == 'Platinum' else 'bg-yellow-200 text-yellow-800' if sponsor.tier == 'Gold' else 'bg-yellow-100 text-yellow-700' if sponsor.tier == 'Silver' else 'bg-orange-200 text-orange-900' if sponsor.tier == 'Bronze' else 'bg-zinc-700 text-zinc-200' }}"
              >
                {% if sponsor.tier == 'Platinum' %}🥇 Platinum {% elif
                sponsor.tier == 'Gold' %}🥈 Gold {% elif sponsor.tier ==
                'Silver' %}🥉 Silver {% elif sponsor.tier == 'Bronze' %}🏅
                Bronze {% else %}🏆 Champion {% endif %}</span
              ></span
            >
            {% if sponsor.description %}
            <span class="mt-2 text-sm text-zinc-700 text-center max-w-xs"
              >{{ sponsor.description }}</span
            >
            {% endif %}
          </div>
          <div
            class="absolute left-1/2 -translate-x-1/2 bottom-[-2.3rem] bg-black/90 text-yellow-200 text-xs px-3 py-1 rounded-xl shadow pointer-events-none opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-all duration-200 sponsor-tooltip"
          >
            {{ sponsor.tooltip or sponsor.description or "Thanks for supporting
            Connect ATX Elite!" }}
          </div>
        </div>
        {% endfor %} {% if sponsors_sorted|length &lt; 9 %} {% for _ in range(9
        - sponsors_sorted|length) %}
        <div
          class="flex flex-col items-center justify-center px-6 py-8 rounded-3xl border-2 border-dashed border-yellow-400/40 bg-zinc-900/60 shadow-inner text-yellow-300/80 min-w-[200px] h-[255px]"
        >
          <span class="text-3xl animate-starforge-bounce">✨</span>
          <span class="mt-4 font-bold text-center"
            >This spot is waiting for you!</span
          >
          <button
            onclick="openSponsorModal()"
            class="mt-4 px-6 py-2 bg-yellow-400 text-black font-extrabold rounded-full shadow-lg hover:scale-105 transition"
          >
            🌟 Become a Sponsor
          </button>
        </div>
        {% endfor %} {% endif %} {% else %}
        <div
          class="flex flex-col items-center justify-center px-6 py-8 rounded-3xl border-2 border-dashed border-yellow-400/40 bg-zinc-900/60 shadow-inner text-yellow-300/80 min-w-[200px] h-[255px]"
        >
          <span class="text-3xl animate-starforge-bounce">✨</span>
          <span class="mt-4 font-bold text-center"
            >Your logo could headline here!</span
          >
          <button
            onclick="openSponsorModal()"
            class="mt-4 px-6 py-2 bg-yellow-400 text-black font-extrabold rounded-full shadow-lg hover:scale-105 transition"
          >
            🌟 Be the First Sponsor
          </button>
        </div>
        {% endif %}
      </div>
      <!-- Subtle shimmer and badge key styles -->
      <script>
        // Tooltip on focus/hover (for a11y)
        function showTooltip(card) {
          const tooltip = card.querySelector(".sponsor-tooltip");
          if (tooltip) tooltip.style.opacity = 1;
        }
        function hideTooltip(card) {
          const tooltip = card.querySelector(".sponsor-tooltip");
          if (tooltip) tooltip.style.opacity = 0;
        }
      </script>
    </section>
    <!-- =========== DIGITAL HUB (AI + Admin Widgets, Starforge Edition) =========== -->
    <section
      id="starforge-digital-hub-section"
      class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
      aria-labelledby="digital-hub-heading"
      tabindex="-1"
    >
      <h2
        id="starforge-digital-hub-heading"
        class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-yellow-400 via-yellow-100 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl animate-shine text-center mb-10"
        tabindex="0"
      >
        🤖 Digital Hub
        <span
          class="block text-base font-semibold text-yellow-300/90 mt-2 animate-fade-in"
        >
          Where AI and Real Champions Connect</span
        >
      </h2>
      <div
        class="flex flex-col md:flex-row gap-12 md:gap-8 items-start justify-center"
      >
        <!-- AI Concierge Section -->
        <div class="flex-1 starforge-min-w-[320px]">
          <div
            class="bg-zinc-900/90 rounded-2xl shadow-yellow-400/40 p-8 hover:shadow-yellow-400/60 transition-all duration-300 focus-within:shadow-yellow-400/60 ring-1 ring-yellow-300/20"
            data-starforge-starforge-aos="fade-up"
            tabindex="0"
            aria-label="AI Concierge assistant status and chat"
          >
            <h3
              class="text-3xl font-bold text-yellow-400 mb-4 flex items-center gap-2 select-none"
            >
              🤖 AI Concierge
              <span
                class="relative flex items-center justify-center ml-2"
                aria-live="polite"
                aria-atomic="true"
                title="AI online"
                ><span class="sr-starforge-only">AI is online</span></span
              >
            </h3>
            <p class="text-yellow-200 text-base mb-6 select-starforge-text">
              Got a question? Ask our friendly AI about Connect ATX Elite —
              schedules, events, fundraising, or how to help!
              <span class="block text-yellow-300 font-semibold text-sm mt-2"
                >Instant, 24/7 support for parents, sponsors, and admins.</span
              >
            </p>
            <button
              type="button"
              onclick="showAIModal(); trackWidgetClick('ai_concierge_open'); sparkleAIBtn(this);"
              class="inline-flex items-center gap-2 bg-yellow-400 text-black font-bold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-300 hover:scale-105 focus:outline-none focus-visible:ring-4 focus-visible:ring-yellow-300 text-lg transition"
              aria-controls="ai-concierge-modal"
              aria-haspopup="dialog"
              tabindex="0"
              id="starforge-ai-concierge-btn"
            >
              <span
                id="starforge-ai-sparkle"
                class="hidden animate-starforge-sparkle"
                >✨</span
              >
              💬 Chat with our AI Concierge
            </button>
          </div>
        </div>
        <!-- Admin Dashboard Widgets -->
        {% if current_user and current_user.is_admin %}
        <div class="flex-1 starforge-min-w-[320px]">
          <div
            class="bg-zinc-900/90 rounded-2xl shadow-yellow-400/40 p-8 hover:shadow-yellow-400/60 transition-all duration-300 focus-within:shadow-yellow-400/60 ring-1 ring-yellow-300/20"
            data-starforge-starforge-aos="fade-up"
            data-starforge-starforge-aos-delay="150"
            tabindex="0"
            aria-label="Admin dashboard overview widgets"
          >
            <h3
              class="text-3xl font-bold text-yellow-400 mb-6 text-center select-none"
            >
              📊 Admin Dashboard
            </h3>
            <section
              class="grid grid-cols-1 sm:grid-cols-2 starforge-gap-6"
              aria-label="Dashboard overview widgets"
              role="list"
            >
              {% for widget in [ {'label': 'Total Donations', 'value':
              total_donations, 'analytics': 'widget_total_donations'}, {'label':
              'New Sponsors This Week', 'value': new_sponsors, 'analytics':
              'widget_new_sponsors'}, {'label': 'Active Players', 'value':
              active_players, 'analytics': 'widget_active_players'}, {'label':
              'Upcoming Events', 'value': upcoming_events, 'analytics':
              <div
                class="bg-black/70 rounded-xl shadow-lg border-yellow-400/30 p-6 flex flex-col items-center text-center cursor-pointer hover:scale-105 hover:shadow-yellow-400/40 transition duration-300 group focus-within:ring-4 focus-within:ring-yellow-300 relative"
                tabindex="0"
                role="listitem"
                aria-label="{{ widget.label }}: {{ widget.value or '0' }}"
                onclick="trackWidgetClick('{{ widget.analytics }}'); pulseWidget(this);"
                onkeydown="if(event.key==='Enter'){this.click();}"
              >
                <span
                  class="text-yellow-300 text-3xl font-black drop-shadow animate-shine flex items-center gap-2 widget-count"
                >
                  {{ widget.value or '0' }}</span
                >
                <span
                  class="text-yellow-200 text-sm mt-2 font-semibold group-hover:text-yellow-300 transition"
                >
                  {{ widget.label }}</span
                >
                <span
                  class="absolute top-2 right-2 opacity-40 text-lg group-hover:opacity-90 transition pointer-events-none"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="inline h-5 w-5"
                    fill="none"
                    viewbox="0 0 24 24"
                    stroke="currentcolor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-width="2"
                      d="M12 4v16m8-8H4"
                    ></path></svg
                ></span>
              </div>
              {% endfor %}
            </section>
            <p class="mt-4 text-xs text-yellow-400/80 text-starforge-center">
              <b>Pro Tip:</b> Export analytics for board/sponsor reports — or
              <span
                class="underline cursor-pointer hover:text-yellow-300"
                onclick="trackWidgetClick('export_analytics')"
                >download now</span
              >.
            </p>
            <button
              class="mt-6 w-full py-3 rounded-full bg-yellow-400 text-black font-bold shadow hover:bg-yellow-300 transition focus-visible:ring-2 focus-visible:ring-yellow-300"
              onclick="alert('Widget marketplace coming soon! Want a custom dashboard? Contact us!')"
            >
              ➕ Add Widget or Request Feature
            </button>
          </div>
        </div>
        {% endif %}
      </div>
    </section>
    <script>
      // Starforge sparkle for AI button
      function sparkleAIBtn(btn) {
        const icon = document.getElementById("ai-sparkle");
        if (icon) {
          icon.classList.remove("hidden");
          setTimeout(() => icon.classList.add("hidden"), 900);
        }
      }
      // Widget pulse on click
      function pulseWidget(widget) {
        const count = widget.querySelector(".widget-count");
        if (count) {
          count.classList.add("pulse");
          setTimeout(() => count.classList.remove("pulse"), 700);
        }
      }
      // Event tracking for widgets (robust for SaaS)
      function trackWidgetClick(name) {
        if (window.gtag) {
          window.gtag("event", "widget_click", {
            event_category: "Dashboard",
            event_label: name,
          });
        } else {
          console.log("Widget click:", name);
        }
      }
    </script>
    <!-- =========== PROGRAM STATS (Animated, Elite, Starforge Edition) =========== -->
    <section
      id="starforge-stats"
      class="connect-stats relative overflow-visible"
      role="region"
      aria-labelledby="stats-heading"
      tabindex="-1"
    >
      <h2 id="starforge-stats-heading" class="sr-starforge-only">
        Program Stats
      </h2>
      <div class="stats-starforge-grid">
        {% set stats_defaults = { 'players': 16, 'honor_roll': 11,
        'tournaments': 12, 'years': 3 } %} {% for key, label in { 'players':
        'Players Enrolled', 'honor_roll': 'Honor Roll Scholars', 'tournaments':
        'Tournaments Played', 'years': 'Years Running' }.items() %}
        <div
          class="stat-starforge-card"
          tabindex="0"
          aria-label="{{ stats[key] if stats is defined and stats[key] is defined else stats_defaults[key] }} {{ label }}"
        >
          <span class="stat-starforge-confetti" aria-hidden="true">🎉</span>
          <span
            class="starforge-starforge-counter"
            data-starforge-starforge-target="{{ stats[key] if stats is defined and stats[key] is defined else stats_defaults[key] }}"
          >
            0</span
          >
          <div class="starforge-starforge-label">{{ label }}</div>
          <!-- (Optional) Info icon, SaaS style -->
          <span
            class="starforge-starforge-info"
            tabindex="0"
            role="button"
            aria-label="How is this stat tracked?"
            title="How is this stat tracked?"
            onclick="alert('This stat is updated after every season &amp; verified by the coaches.')"
            style="display: none"
            >ℹ️</span
          >
        </div>
        {% endfor %}
      </div>
      <!-- Example: Call-to-action after stats -->
      <div class="mt-10 text-center text-yellow-300/90 font-semibold text-lg">
        <span class="starforge-mr-2">🏆 Our stats are real — and growing.</span>
        <a href="#tiers" class="underline hover:text-yellow-100 transition"
          >Sponsor the next milestone →</a
        >
      </div>
      <script>
        document.addEventListener("DOMContentLoaded", () => {
          const counters = document.querySelectorAll(".counter");
          let confettiFired = false;
          const animateCounters = () => {
            counters.forEach((el) => {
              const target = +el.dataset.target;
              let count = 0;
              const increment = Math.max(1, Math.ceil(target / 68));
              function step() {
                count += increment;
                if (count >= target) {
                  el.textContent = target;
                  if (!confettiFired) {
                    // 🎉 Show confetti on the first stat card only
                    const confetti = el
                      .closest(".stat-card")
                      .querySelector(".stat-confetti");
                    if (confetti) {
                      confetti.style.opacity = 1;
                      confetti.textContent = "🎉✨";
                      setTimeout(() => (confetti.style.opacity = 0), 1400);
                    }
                    confettiFired = true;
                  }
                } else {
                  el.textContent = count;
                  requestAnimationFrame(step);
                }
              }
              requestAnimationFrame(step);
            });
          };
          const observer = new IntersectionObserver(
            (entries, obs) => {
              if (entries[0].isIntersecting) {
                animateCounters();
                obs.disconnect();
              }
            },
            { threshold: 0.29 },
          );
          observer.observe(document.getElementById("stats"));
        });
      </script>
    </section>
    <!-- ========== GAME & EVENT CALENDAR (Elite, Interactive, PRO) ========== -->
    <section
      id="starforge-events-calendar"
      class="my-20 px-4 sm:px-8 max-w-5xl mx-auto"
      aria-labelledby="events-heading"
      tabindex="-1"
    >
      <h2
        id="starforge-events-heading"
        class="text-2xl sm:text-3xl font-extrabold bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl text-center mb-6"
      >
        🗓️ Game & Event Calendar
      </h2>
      <!-- 🔥 LIVE NEXT GAME BADGE -->
      {% set next_game = events|selectattr('is_upcoming')|list|first %} {% if
      next_game %}
      <div
        class="flex items-center justify-center starforge-mb-7"
        role="region"
        aria-label="Next upcoming game"
        tabindex="0"
        aria-live="polite"
      >
        <span
          class="inline-flex items-center gap-3 px-5 py-2 rounded-full bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 text-black text-base font-bold shadow-lg ring-2 ring-yellow-400 animate-pulse"
        >
          <span class="starforge-text-xl">⏰</span> Next Game:
          <span class="font-black text-lg"
            >{{ next_game.date|replace("-", "/") }}</span
          >
          <span class="font-starforge-semibold"
            >vs. {{ next_game.opponent }}</span
          >
          <span
            class="bg-green-400 text-zinc-900 px-3 py-0.5 rounded-full text-xs font-extrabold ml-3"
          >
            Upcoming</span
          ></span
        >
      </div>
      {% endif %}
      <!-- 🎛️ FILTER BAR -->
      <form
        id="starforge-calendarFilters"
        class="flex flex-wrap gap-3 justify-center mb-4 text-sm font-bold"
        role="search"
        aria-label="Filter game and event calendar"
        autocomplete="off"
        name="calendarFilters"
      >
        <select
          id="starforge-filterOutcome"
          class="rounded px-3 py-1 bg-zinc-900 text-yellow-400 border-yellow-400/60 focus:ring-2 ring-yellow-400"
          aria-label="Filter by outcome"
        >
          <option value="all">All Results</option>
          <option value="win">Wins 🟢</option>
          <option value="loss">Losses 🔴</option>
          <option value="upcoming">Upcoming 🟡</option>
        </select>
        <select
          id="starforge-filterMonth"
          class="rounded px-3 py-1 bg-zinc-900 text-yellow-400 border-yellow-400/60 focus:ring-2 ring-yellow-400"
          aria-label="Filter by month"
        >
          <option value="all">All Months</option>
          <option value="{{ m }}">{{ m|replace('-', '/') }}</option>
        </select>
        <button
          type="button"
          id="starforge-downloadIcal"
          class="rounded px-4 py-1.5 bg-gradient-to-r from-yellow-400 to-yellow-300 text-black font-semibold shadow hover:bg-yellow-300 transition"
          aria-label="Download calendar in iCal format"
        >
          📅 Download iCal
        </button>
      </form>
      <!-- 📅 CALENDAR TABLE -->
      <div class="overflow-x-auto rounded-xl bg-zinc-900/80 shadow-xl mb-6">
        {% for event in events %} {% endfor %}
        <table class="min-w-full text-starforge-left" id="starforge-eventTable">
          <thead>
            <tr
              class="text-yellow-400 bg-zinc-800/80 uppercase text-xs font-bold"
            >
              <th class="py-3 starforge-px-4">Date</th>
              <th class="py-3 starforge-px-4">Opponent / Event</th>
              <th class="py-3 starforge-px-4">Location</th>
              <th class="py-3 starforge-px-4">Time</th>
              <th class="py-3 starforge-px-4">Result</th>
              <th class="py-3 starforge-px-4">Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="{% if event.is_upcoming %}bg-yellow-400/20 text-yellow-200{% elif 'W' in event.result %}bg-green-500/20 text-green-100{% elif 'L' in event.result %}bg-red-500/20 text-red-100{% else %}bg-zinc-900/80{% endif %}"
              data-starforge-starforge-outcome="{% if 'W' in event.result %}win{% elif 'L' in event.result %}loss{% elif event.is_upcoming %}upcoming{% else %}other{% endif %}"
              data-starforge-starforge-month="{{ event.date[:7] }}"
            >
              <td class="py-3 starforge-px-4">
                {{ event.date|replace("-", "/") }}
              </td>
              <td class="py-3 px-4 font-starforge-bold">
                {{ event.opponent }} {% if event.sponsor %}
                <span class="block text-xs text-yellow-300/80 mt-1"
                  >Sponsored by {{ event.sponsor }}</span
                >
                {% endif %}
              </td>
              <td class="py-3 starforge-px-4">{{ event.location }}</td>
              <td class="py-3 starforge-px-4">{{ event.time }}</td>
              <td class="py-3 px-4 font-starforge-bold">
                {% if 'W' in event.result %}🟢 Win{% elif 'L' in event.result
                %}🔴 Loss{% else %}—{% endif %}
              </td>
              <td class="py-3 px-4 starforge-italic">{{ event.highlight }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- 📝 ICAL EXPORT & FILTER SCRIPT -->
      <script>
        // ---- iCal Export ----
        document.getElementById("downloadIcal").addEventListener("click", () => {
          let ical = "BEGIN:VCALENDAR\nVERSION:2.0\n";
          {% for event in events %}
          ical += `BEGIN:VEVENT\nSUMMARY:{{ event.opponent|escape }}\nDTSTART;VALUE=DATE:{{ event.date|replace("-", "") }}\nDESCRIPTION:{{ event.type|escape }} - {{ event.result|escape }}\nLOCATION:{{ event.location|escape }}\nEND:VEVENT\n`;
          {% endfor %}
          ical += "END:VCALENDAR";
          const blob = new Blob([ical], { type: "text/calendar" });
          const url = URL.createObjectURL(blob);
          const link = document.createElement("a");
          link.href = url;
          link.download = "ConnectATXElite-Schedule.ics";
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(url);
        });

        // ---- Calendar Filters (JS, no reload) ----
        const outcomeSelect = document.getElementById("filterOutcome");
        const monthSelect = document.getElementById("filterMonth");
        const eventRows = document.querySelectorAll("#eventTable tbody tr");

        function filterCalendar() {
          const outcome = outcomeSelect.value;
          const month = monthSelect.value;
          eventRows.forEach(row => {
            const matchOutcome = (outcome === "all") || (row.dataset.outcome === outcome);
            const matchMonth = (month === "all") || (row.dataset.month === month);
            row.style.display = (matchOutcome && matchMonth) ? "" : "none";
          });
        }
        outcomeSelect.addEventListener("change", filterCalendar);
        monthSelect.addEventListener("change", filterCalendar);

        // Accessibility: auto-focus next upcoming game row when filtering to "upcoming"
        outcomeSelect.addEventListener("change", function() {
          if (outcomeSelect.value === "upcoming") {
            const nextRow = document.querySelector('tr[data-starforge-starforge-outcome="upcoming"]');
            if (nextRow) nextRow.focus();
          }
        });
      </script>
    </section>
    <!-- =========== WATCH OUR STORY MODAL (STARFORGE ELITE, ANIMATED, ACCESSIBLE) =========== -->
    <div class="text-center starforge-my-16">
      <button
        id="starforge-storyBtn"
        type="button"
        class="inline-flex items-center gap-3 bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 text-black font-black px-10 py-4 rounded-full shadow-lg hover:scale-105 hover:shadow-yellow-400/50 focus:ring-4 ring-yellow-300 transition-all text-lg md:text-xl animate-pulse"
        aria-haspopup="dialog"
        aria-controls="storyModal"
        aria-expanded="false"
      >
        ▶️ <span class="hidden sm:starforge-inline">Watch Our Story</span>
      </button>
    </div>
    <dialog
      id="starforge-storyModal"
      class="p-0 rounded-3xl overflow-hidden shadow-2xl bg-black/95 backdrop-blur-lg max-w-3xl w-full mx-auto border-4 border-yellow-400/70 transition-all scale-95 opacity-0"
      role="dialog"
      aria-modal="true"
      aria-labelledby="story-modal-title"
      aria-hidden="true"
    >
      <button
        type="button"
        onclick="closeStoryModal()"
        class="absolute top-4 right-4 text-white text-4xl hover:text-yellow-300 focus:ring-2 ring-yellow-300 z-50"
        aria-label="Close video modal"
      >
        ×
      </button>
      <div class="flex flex-col items-center p-0 md:p-6 animate-fade-in-down">
        <h2
          id="starforge-story-modal-title"
          class="text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 bg-clip-text text-transparent mb-3 mt-5 md:mt-0 text-center drop-shadow-xl animate-shine"
        >
          Our Story: On & Off The Court
        </h2>
        <!-- Video Tabs -->
        <div
          class="flex gap-3 md:gap-5 mb-5 flex-wrap justify-center"
          role="tablist"
        >
          <button
            id="starforge-tab-myvideo"
            role="tab"
            aria-controls="story-video-myvideo"
            aria-selected="true"
            class="py-2 px-5 rounded-full font-semibold shadow bg-yellow-400 text-black hover:scale-105 transition"
          >
            🎥 Team Video
          </button>
          <button
            id="starforge-tab-kvue"
            role="tab"
            aria-controls="story-video-kvue"
            aria-selected="false"
            class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
          >
            📺 KVUE News
          </button>
          <button
            id="starforge-tab-youtube"
            role="tab"
            aria-controls="story-video-youtube"
            aria-selected="false"
            class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
          >
            🏀 YouTube
          </button>
        </div>
        <!-- Video Panels -->
        <div
          id="starforge-story-video-myvideo"
          role="tabpanel"
          aria-labelledby="tab-myvideo"
          class="w-full max-w-2xl aspect-video mx-auto block"
        >
          <video
            controls=""
            poster="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
            class="rounded-xl border-4 border-yellow-300 shadow-lg w-full h-auto bg-black"
          >
            <source
              src="{{ url_for('static', filename='connect-atx-story.mp4') }}"
              type="video/mp4"
            />
            Sorry, your browser doesn’t support embedded videos.
          </video>
        </div>
        <div
          id="starforge-story-video-kvue"
          role="tabpanel"
          aria-labelledby="tab-kvue"
          class="w-full max-w-2xl aspect-video mx-auto hidden"
        >
          <iframe
            src="https://www.kvue.com/embeds/video/responsive/269-beeecfc1-eb68-4cca-8ec5-417b66d8cbfa/iframe"
            width="100%"
            height="360"
            class="border-2 border-yellow-300 rounded-xl"
            allowfullscreen
          ></iframe>
        </div>
        <div
          id="starforge-story-video-youtube"
          role="tabpanel"
          aria-labelledby="tab-youtube"
          class="w-full max-w-2xl aspect-video mx-auto hidden"
        >
          <iframe
            src="https://www.youtube.com/embed/dQw4w9WgXcQ"
            width="100%"
            height="360"
            class="border-2 border-yellow-300 rounded-xl"
            allowfullscreen
          ></iframe>
        </div>
        <div class="mt-5 text-xs text-zinc-300 text-starforge-center">
          <strong class="text-starforge-yellow-300">Connect ATX Elite</strong>
          | Family-run. Community-powered. Champions rising.
        </div>
      </div>
    </dialog>
    <script>
      (() => {
        const storyBtn = document.getElementById("storyBtn");
        const modal = document.getElementById("storyModal");
        const tabs = modal.querySelectorAll('[role="tab"]');
        const panels = modal.querySelectorAll('[role="tabpanel"]');
        let lastFocusedEl;

        function openModal() {
          lastFocusedEl = document.activeElement;
          modal.showModal();
          modal.classList.remove("scale-95", "opacity-0");
          modal.classList.add("scale-100", "opacity-100");
          modal.setAttribute("aria-hidden", "false");
          storyBtn.setAttribute("aria-expanded", "true");
          tabs[0].focus();
        }

        function closeModal() {
          modal.classList.add("scale-95", "opacity-0");
          setTimeout(() => {
            modal.close();
            modal.setAttribute("aria-hidden", "true");
            storyBtn.setAttribute("aria-expanded", "false");
            lastFocusedEl?.focus();
          }, 200);
        }

        storyBtn.addEventListener("click", openModal);
        modal
          .querySelector('[aria-label="Close video modal"]')
          .addEventListener("click", closeModal);

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => activateTab(tab));
        });

        function activateTab(selectedTab) {
          tabs.forEach((tab) => {
            tab.setAttribute("aria-selected", "false");
            tab.classList.replace("bg-yellow-400", "bg-zinc-800");
            tab.classList.replace("text-black", "text-yellow-300");
          });
          panels.forEach((panel) => panel.classList.add("hidden"));
          selectedTab.setAttribute("aria-selected", "true");
          selectedTab.classList.replace("bg-zinc-800", "bg-yellow-400");
          selectedTab.classList.replace("text-yellow-300", "text-black");
          document
            .getElementById(selectedTab.getAttribute("aria-controls"))
            .classList.remove("hidden");
        }
      })();
    </script>
    <!-- =========== ELITE SITE FOOTER (STARFORGE ENHANCED) =========== -->
    <footer
      id="starforge-site-footer"
      class="connect-footer bg-black text-yellow-300 shadow-inner"
      role="contentinfo"
    >
      <div class="footer-starforge-grid">
        <!-- Column 1: Brand -->
        <section aria-label="Brand and location">
          <div
            class="starforge-brand text-xl font-black bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent animate-shine"
          >
            Connect ATX Elite
          </div>
          <div class="text-sm starforge-mt-1">AAU 12U | Austin, TX</div>
          <div class="text-xs starforge-mt-1">© {{ now().year }}</div>
          <div class="starforge-footer-links starforge-mt-2">
            <a
              href="https://instagram.com/connectatxelite"
              target="_blank"
              rel="noopener"
              >📸 Instagram</a
            >
            <a
              href="https://facebook.com/connectatxelite"
              target="_blank"
              rel="noopener"
              >📘 Facebook</a
            >
          </div>
        </section>
        <!-- Column 2: Progress + Links -->
        <section aria-label="Fundraising progress and links">
          <div
            class="progress-starforge-bar-bg"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="{{ stats.goal|int|default(10000) }}"
            aria-valuenow="{{ stats.raised|int|default(7850) }}"
            aria-label="Fundraising progress: ${{ stats.raised|int|default(7850) }} of ${{ stats.goal|int|default(10000) }} raised"
          >
            <div
              class="progress-starforge-bar"
              style="--progress-width: {{ ((stats.raised / stats.goal) * 100)|round(1) if stats and stats.goal else 78 }}%;"
            ></div>
          </div>
          <div class="progress-text mt-2 font-starforge-semibold">
            ${{ stats.raised|int|default(7850) }} of ${{
            stats.goal|int|default(10000) }} raised
          </div>
          <nav class="starforge-footer-links starforge-mt-4" aria-label="Footer links">
            <a href="mailto:arodgps@gmail.com">📧 Email</a>
            <a
              href="https://www.connectatxelite.com"
              target="_blank"
              rel="noopener"
              >🌐 Website</a
            >
            <a
              href="https://www.paypal.com/donate/your-link"
              target="_blank"
              rel="noopener"
              >💸 Donate</a
            >
          </nav>
        </section>
        <!-- Column 3: Contact + Countdown -->
        <section
          class="contact-starforge-block"
          aria-label="Contact and countdown"
        >
          <div>
            <strong>Contact:</strong>
            <a href="mailto:arodgps@gmail.com">arodgps@gmail.com</a>
          </div>
          <div>
            <strong>Phone:</strong>
            <a href="tel:+15128200475">(512) 820-0475</a>
          </div>
          <div
            id="starforge-next-game-countdown"
            class="starforge-starforge-countdown"
            aria-live="polite"
          >
            Next Tournament: <span id="countdown-timer">Loading…</span>
          </div>
        </section>
      </div>
      <div class="starforge-starforge-supporters">
        <b>Recent Supporters:</b> Acme Corp • Jane D. • Smith & Co • Austin
        Hoops
      </div>
      <script>
        // Countdown timer for next event
        (function () {
          const target = new Date("2025-07-01T10:00:00Z");
          const el = document.getElementById("countdown-timer");
          function update() {
            const now = new Date(),
              diff = target - now;
            if (diff <= 0) {
              el.textContent = "Tournament is live!";
              return;
            }
            const d = Math.floor(diff / 86400000),
              h = Math.floor((diff % 86400000) / 3600000),
              m = Math.floor((diff % 3600000) / 60000),
              s = Math.floor((diff % 60000) / 1000);
            el.textContent = `${d}d ${h}h ${m}m ${s}s`;
          }
          update();
          setInterval(update, 1000);
        })();
      </script>
    </footer>
    {% endblock %}
  </body>
</html>
<!doctype html>
<html>
  <head>
    <meta
      name="generator"
      content="HTML Tidy for HTML5 for Linux version 5.8.0"
    />
    <title></title>
    <style>
      @keyframes sparkle {
        0%,
        100% {
          opacity: 0.8;
          filter: drop-shadow(0 0 5px #facc15);
        }
        50% {
          opacity: 1;
          filter: drop-shadow(0 0 18px #fde68a);
        }
      }
      .animate-sparkle {
        animation: sparkle 1.3s ease-in-out 2 alternate;
      }
      .widget-count.pulse {
        animation: bounce-in 0.6s;
      }
      @keyframes bounce-in {
        0% {
          transform: scale(0.8);
        }
        60% {
          transform: scale(1.18);
        }
        100% {
          transform: scale(1);
        }
      }
    </style>
    <style>
      .progress-bar-bg {
        background: rgba(250, 204, 21, 0.1);
        border-radius: 9999px;
        height: 1.25rem;
        width: 100%;
        overflow: hidden;
        box-shadow: inset 0 0 10px rgba(250, 204, 21, 0.5);
      }
      .progress-bar {
        background: linear-gradient(90deg, #facc15, #fde68a);
        height: 100%;
        border-radius: 9999px;
        width: 0;
        animation: progress-load 1.8s ease forwards;
      }
      @keyframes progress-load {
        from {
          width: 0;
        }
        to {
          width: var(--progress-width);
        }
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 2rem;
        padding: 2rem 1rem;
        max-width: 90rem;
        margin: auto;
      }
      .footer-links a,
      .contact-block a {
        display: inline-block;
        margin-right: 0.75rem;
        color: #facc15;
        text-decoration: none;
        transition: color 0.2s ease;
      }
      .footer-links a:hover,
      .contact-block a:hover {
        text-decoration: underline;
        color: #fde68a;
      }
      .supporters {
        text-align: center;
        padding: 1rem;
        font-size: 0.85rem;
        color: #fde68a;
      }
      .countdown {
        font-weight: 700;
        margin-top: 0.5rem;
        color: #fde68a;
      }
    </style>
  </head>
  <body>
    {# ================= Starforge Elite — Landing Page Context Vars &
    defined else None %} {% set challenge = challenge if challenge is defined
    else {"metrics": []} %} {% set color_classes= color_classes if color_classes
    is defined else "" %} {% set event = event if event is defined else None %}
    {% set log = log if log is defined else None %} {% set metric = metric if
    metric is defined else None %} {% set next_game = next_game if next_game is
    defined else None %} {% set p = p if p is defined else None %} {% set
    request = request if request is defined else None %} {% set size_classes =
    size_classes if size_classes is defined else "" %} {% set sponsor = sponsor
    if sponsor is defined else None %} {% set stat = stat if stat is defined
    else None %} {% set widget = widget if widget is defined else None %} {%
    extends base if base is defined else "base.html" %} {% block title %} Home ·
    {{ team.team_name if team is defined and team.team_name is defined else
    'Connect ATX Elite' }} {% endblock %} {% block content %}
    <div
      id="dupe-starforge-announcement-bar"
      class="w-full bg-gradient-to-r from-yellow-400 via-red-600 to-black text-zinc-900 font-bold text-center py-2 px-4 animate-pulse shadow-lg"
      role="region"
      aria-live="polite"
      aria-atomic="true"
    >
      🚨 Championship Fundraiser is LIVE! Help us reach our goal —
      <a href="#tiers" class="underline hover:text-white transition"
        >Join Our Champion Circle</a
      >
    </div>
    <!-- ================= HEADER ================= -->
    <header
      class="sticky top-0 z-40 w-full backdrop-blur bg-black/85 border-b border-yellow-300/15 shadow-lg transition-all"
      role="banner"
      aria-label="Site header"
    >
      <div
        class="container mx-auto flex items-center justify-between px-4 py-4 lg:px-8"
      >
        <!-- Logo / Brand -->
        {% set logo_src = team.logo if team is defined and team.logo else
        url_for('static', filename='images/logo.webp') %}
        <a
          href="{{ url_for('main.home') }}"
          class="flex items-center gap-3 focus-visible:ring-4 focus-visible:ring-yellow-400 rounded-lg group"
          aria-label="{{ team.team_name if team is defined and team.team_name is defined else 'Connect ATX Elite' }} – Home"
        >
          <img
            src="{{ logo_src }}"
            alt="{{ team.team_name if team is defined and team.team_name is defined else 'Connect ATX Elite' }} logo"
            class="h-12 w-12 rounded-full ring-2 ring-yellow-300 shadow-md transition-transform duration-200 group-hover:scale-110"
            loading="eager"
            decoding="async"
            fetchpriority="high"
          />
          <span
            class="text-2xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-50 bg-clip-text text-transparent drop-shadow-sm select-none"
          >
            {{ team.team_name if team is defined and team.team_name is defined
            else 'Connect ATX Elite' }}</span
          ></a
        >
        {% if current_user and current_user.is_authenticated %}
        <span
          class="hidden md:inline ml-4 px-3 py-1 rounded-full bg-yellow-100 text-zinc-900 font-semibold shadow select-starforge-none"
          aria-label="Greeting message"
          >Hi, {{ current_user.name.split()[0] if current_user.name }}</span
        >
        {% endif %}
        <!-- Desktop Nav -->
        <nav
          class="hidden lg:flex items-center gap-7 text-base font-semibold text-zinc-100"
          aria-label="Primary navigation"
        >
          {% set nav_links = team.nav_links if team and team.nav_links else [
          ('about', 'About'), ('challenge', 'Challenge'), ('sponsor-elite-wall',
          'Sponsors'), ('testimonials', 'Testimonials'), ('contact', 'Contact')
          <a
            href="#{{ id }}"
            class="relative transition hover:text-yellow-300 focus-visible:ring-2 ring-yellow-300 rounded px-1 py-0.5 group"
          >
            {{ label }}</a
          >
          {% endfor %}
          <button
            type="button"
            onclick="openSponsorModal()"
            class="ml-5 px-5 py-2 bg-gradient-to-r from-yellow-400 to-yellow-200 text-black font-bold rounded-full shadow-xl hover:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-400 transition-all"
          >
            🌟 Sponsor Now
          </button>
          <a
            href="#donate"
            class="ml-2 px-5 py-2 bg-black/70 border-yellow-300/50 text-yellow-300 font-bold rounded-full shadow hover:bg-yellow-400 hover:text-black transition-all"
          >
            💸 Donate</a
          >
        </nav>
        <!-- Mobile Menu Toggle -->
        <button
          id="dupe-starforge-mobile-nav-toggle"
          onclick="toggleMobileNav()"
          class="lg:hidden inline-flex items-center justify-center p-2 rounded-lg border-yellow-300/40 hover:bg-yellow-300/10 focus-visible:ring-2 ring-yellow-300"
          aria-label="Toggle menu"
          aria-expanded="false"
        >
          <svg
            class="w-7 h-7 text-yellow-300"
            fill="none"
            stroke="currentcolor"
            stroke-width="2"
            viewbox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"
            ></path>
          </svg>
        </button>
      </div>
      <!-- Mobile Nav -->
      <nav
        id="dupe-starforge-mobile-nav"
        class="fixed inset-0 z-[9998] hidden flex-col items-center justify-center gap-8 bg-black/90 backdrop-blur-lg shadow-2xl"
        role="dialog"
        aria-modal="true"
        aria-label="Mobile navigation menu"
      >
        <button
          type="button"
          onclick="toggleMobileNav()"
          class="absolute top-6 right-6 text-2xl text-yellow-300 p-2 rounded-full bg-zinc-800/70 hover:text-red-500 focus-visible:ring-4 ring-yellow-300"
          aria-label="Close menu"
        >
          ×
        </button>
        {% for id, label in nav_links %}
        <a
          href="#{{ id }}"
          onclick="toggleMobileNav()"
          class="text-3xl font-extrabold tracking-tight bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-400 bg-clip-text text-transparent drop-shadow-xl hover:scale-105 transition"
        >
          {{ label }}</a
        >
        {% endfor %}
        <button
          type="button"
          onclick="openSponsorModal()"
          class="mt-8 px-7 py-3 bg-yellow-400 text-black font-bold rounded-full shadow-xl text-2xl hover:scale-105 focus-visible:ring-4 ring-yellow-300"
        >
          🌟 Sponsor Now
        </button>
      </nav>
    </header>
    <script>
      function toggleMobileNav() {
        const nav = document.getElementById("mobile-nav");
        const btn = document.getElementById("mobile-nav-toggle");
        const open = nav.classList.contains("flex");
        nav.classList.toggle("hidden", open);
        nav.classList.toggle("flex", !open);
        btn.setAttribute("aria-expanded", String(!open));
        document.body.style.overflow = open ? "" : "hidden";
      }
    </script>
    <!-- 🌙 Theme Switcher -->
    <button
      id="dupe-starforge-theme-switch"
      class="fixed top-5 right-5 z-[9999] bg-zinc-800/70 backdrop-blur-lg p-2 rounded-full border border-zinc-700 hover:scale-110 transition"
      aria-label="Toggle light/dark"
    >
      <span id="dupe-starforge-theme-icon" class="text-yellow-300 text-xl">🌙</span>
    </button>
    <!-- ================= HERO / PROGRESS ================= -->
    {% include 'partials/about_and_mission.html' %}
    <!-- 📅 Calendar Links -->
    <div class="flex flex-wrap gap-3 justify-center starforge-my-6">
      <a
        href="{{ url_for('main.calendar_ics') }}"
        class="bg-yellow-400 text-black font-bold px-4 py-2 rounded shadow hover:bg-yellow-300 transition"
        download="ConnectATXElite.ics"
        >📥 Download iCal (Apple/Outlook)</a
      >
      <a
        href="https://calendar.google.com/calendar/r?cid={{ request.url_root ~ 'calendar.ics' | urlencode }}"
        target="_blank"
        rel="noopener"
        class="bg-blue-500 text-white font-bold px-4 py-2 rounded shadow hover:bg-blue-600 transition"
      >
        📅 Add to Google Calendar</a
      >
      <a
        href="{{ url_for('main.calendar_ics') }}"
        class="bg-gray-800 text-yellow-300 font-bold px-4 py-2 rounded shadow hover:bg-yellow-500 hover:text-black transition"
        download="ConnectATXElite.ics"
        >🍏 Add to Apple Calendar</a
      >
    </div>
    <!-- ========== ABOUT, MISSION & CHALLENGE (Unified Elite Block) ========== -->
    {% include 'partials/about_and_mission.html' %} {% include
    'partials/about_and_mission.html' %}
    <script>
      // Animate all counters and the funding bar on DOM ready
      document.addEventListener("DOMContentLoaded", () => {
        function animateCounter(el, target, duration = 1200) {
          let start = 0,
            startTime = performance.now();
          function update(now) {
            let progress = Math.min((now - startTime) / duration, 1);
            el.textContent = Math.floor(progress * target);
            if (progress < 1) requestAnimationFrame(update);
            else el.textContent = target;
          }
          requestAnimationFrame(update);
        }

        document.querySelectorAll(".counter").forEach((el, i) => {
          const target = parseInt(el.dataset.target, 10) || 0;
          setTimeout(() => animateCounter(el, target), i * 150);
        });

        // Funding bar animation
        const funded =
          parseFloat(document.getElementById("gym-funded").textContent) || 0;
        const bar = document.getElementById("funding-bar").querySelector("div");
        setTimeout(() => {
          bar.style.width = `${funded}%`;
        }, 300);
      });

      // Toggle testimonial popover
      function toggleTestimonialPop() {
        const btn = document.getElementById("testimonial-more-btn");
        const pop = document.getElementById("testimonial-pop");
        const expanded = btn.getAttribute("aria-expanded") === "true";
        btn.setAttribute("aria-expanded", !expanded);
        pop.classList.toggle("hidden", expanded);
        pop.setAttribute("aria-hidden", expanded);
        if (!expanded) pop.focus();
      }
    </script>
    <!-- =========== TIERS BLOCK (Starforge Elite Polish) =========== -->
    {% include 'partials/about_and_mission.html' %}
    <!-- =========== TESTIMONIALS (Starforge Animated Carousel) =========== -->
    {% include 'partials/about_and_mission.html' %}
    <!-- =========== SPONSOR SPOTLIGHT WALL (Starforge Elite) =========== -->
    {% include 'partials/about_and_mission.html' %}
    <!-- =========== DIGITAL HUB (AI + Admin Widgets, Starforge Edition) =========== -->
    {% include 'partials/about_and_mission.html' %} {% include
    'partials/about_and_mission.html' %}
    <p class="mt-4 text-xs text-yellow-400/80 text-starforge-center">
      <b>Pro Tip:</b> Export analytics for board/sponsor reports — or
      <span
        class="underline cursor-pointer hover:text-starforge-yellow-300"
        onclick="trackWidgetClick('export_analytics')"
        >download now</span
      >.
    </p>
    <button
      class="mt-6 w-full py-3 rounded-full bg-yellow-400 text-black font-bold shadow hover:bg-yellow-300 transition focus-visible:ring-2 focus-visible:ring-yellow-300"
      onclick="alert('Widget marketplace coming soon! Want a custom dashboard? Contact us!')"
    >
      ➕ Add Widget or Request Feature
    </button>
    {% endif %}
    <script>
      // Starforge sparkle for AI button
      function sparkleAIBtn(btn) {
        const icon = document.getElementById("ai-sparkle");
        if (icon) {
          icon.classList.remove("hidden");
          setTimeout(() => icon.classList.add("hidden"), 900);
        }
      }
      // Widget pulse on click
      function pulseWidget(widget) {
        const count = widget.querySelector(".widget-count");
        if (count) {
          count.classList.add("pulse");
          setTimeout(() => count.classList.remove("pulse"), 700);
        }
      }
      // Event tracking for widgets (robust for SaaS)
      function trackWidgetClick(name) {
        if (window.gtag) {
          window.gtag("event", "widget_click", {
            event_category: "Dashboard",
            event_label: name,
          });
        } else {
          console.log("Widget click:", name);
        }
      }
    </script>
    <!-- =========== PROGRAM STATS (Animated, Elite, Starforge Edition) =========== -->
    {% include 'partials/about_and_mission.html' %}
    <!-- ========== GAME & EVENT CALENDAR (Elite, Interactive, PRO) ========== -->
    {% include 'partials/about_and_mission.html' %}
    <!-- =========== WATCH OUR STORY MODAL (STARFORGE ELITE, ANIMATED, ACCESSIBLE) =========== -->
    <div class="text-center starforge-my-16">
      <button
        id="dupe-starforge-storyBtn"
        type="button"
        class="inline-flex items-center gap-3 bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 text-black font-black px-10 py-4 rounded-full shadow-lg hover:scale-105 hover:shadow-yellow-400/50 focus:ring-4 ring-yellow-300 transition-all text-lg md:text-xl animate-pulse"
        aria-haspopup="dialog"
        aria-controls="storyModal"
        aria-expanded="false"
      >
        ▶️ <span class="hidden sm:starforge-inline">Watch Our Story</span>
      </button>
    </div>
    <dialog
      id="dupe-starforge-storyModal"
      class="p-0 rounded-3xl overflow-hidden shadow-2xl bg-black/95 backdrop-blur-lg max-w-3xl w-full mx-auto border-4 border-yellow-400/70 transition-all scale-95 opacity-0"
      role="dialog"
      aria-modal="true"
      aria-labelledby="story-modal-title"
      aria-hidden="true"
    >
      <button
        type="button"
        onclick="closeStoryModal()"
        class="absolute top-4 right-4 text-white text-4xl hover:text-yellow-300 focus:ring-2 ring-yellow-300 z-50"
        aria-label="Close video modal"
      >
        ×
      </button>
      <div class="flex flex-col items-center p-0 md:p-6 animate-fade-in-down">
        <h2
          id="dupe-starforge-story-modal-title"
          class="text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 bg-clip-text text-transparent mb-3 mt-5 md:mt-0 text-center drop-shadow-xl animate-shine"
        >
          Our Story: On & Off The Court
        </h2>
        <!-- Video Tabs -->
        <div
          class="flex gap-3 md:gap-5 mb-5 flex-wrap justify-center"
          role="tablist"
        >
          <button
            id="dupe-starforge-tab-myvideo"
            role="tab"
            aria-controls="story-video-myvideo"
            aria-selected="true"
            class="py-2 px-5 rounded-full font-semibold shadow bg-yellow-400 text-black hover:scale-105 transition"
          >
            🎥 Team Video
          </button>
          <button
            id="dupe-starforge-tab-kvue"
            role="tab"
            aria-controls="story-video-kvue"
            aria-selected="false"
            class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
          >
            📺 KVUE News
          </button>
          <button
            id="dupe-starforge-tab-youtube"
            role="tab"
            aria-controls="story-video-youtube"
            aria-selected="false"
            class="py-2 px-5 rounded-full font-semibold shadow bg-zinc-800 text-yellow-300 hover:bg-yellow-900 hover:scale-105 transition"
          >
            🏀 YouTube
          </button>
        </div>
        <!-- Video Panels -->
        <div
          id="dupe-starforge-story-video-myvideo"
          role="tabpanel"
          aria-labelledby="tab-myvideo"
          class="w-full max-w-2xl aspect-video mx-auto block"
        >
          <video
            controls=""
            poster="{{ url_for('static', filename='images/connect-atx-team.jpg') }}"
            class="rounded-xl border-4 border-yellow-300 shadow-lg w-full h-auto bg-black"
          >
            <source
              src="{{ url_for('static', filename='connect-atx-story.mp4') }}"
              type="video/mp4"
            />
            Sorry, your browser doesn’t support embedded videos.
          </video>
        </div>
        <div
          id="dupe-starforge-story-video-kvue"
          role="tabpanel"
          aria-labelledby="tab-kvue"
          class="w-full max-w-2xl aspect-video mx-auto hidden"
        >
          <iframe
            src="https://www.kvue.com/embeds/video/responsive/269-beeecfc1-eb68-4cca-8ec5-417b66d8cbfa/iframe"
            width="100%"
            height="360"
            class="border-2 border-yellow-300 rounded-xl"
            allowfullscreen
          ></iframe>
        </div>
        <div
          id="dupe-starforge-story-video-youtube"
          role="tabpanel"
          aria-labelledby="tab-youtube"
          class="w-full max-w-2xl aspect-video mx-auto hidden"
        >
          <iframe
            src="https://www.youtube.com/embed/dQw4w9WgXcQ"
            width="100%"
            height="360"
            class="border-2 border-yellow-300 rounded-xl"
            allowfullscreen
          ></iframe>
        </div>
        <div class="mt-5 text-xs text-zinc-300 text-starforge-center">
          <strong class="text-starforge-yellow-300">Connect ATX Elite</strong>
          | Family-run. Community-powered. Champions rising.
        </div>
      </div>
    </dialog>
    <script>
      (() => {
        const storyBtn = document.getElementById("storyBtn");
        const modal = document.getElementById("storyModal");
        const tabs = modal.querySelectorAll('[role="tab"]');
        const panels = modal.querySelectorAll('[role="tabpanel"]');
        let lastFocusedEl;

        function openModal() {
          lastFocusedEl = document.activeElement;
          modal.showModal();
          modal.classList.remove("scale-95", "opacity-0");
          modal.classList.add("scale-100", "opacity-100");
          modal.setAttribute("aria-hidden", "false");
          storyBtn.setAttribute("aria-expanded", "true");
          tabs[0].focus();
        }

        function closeModal() {
          modal.classList.add("scale-95", "opacity-0");
          setTimeout(() => {
            modal.close();
            modal.setAttribute("aria-hidden", "true");
            storyBtn.setAttribute("aria-expanded", "false");
            lastFocusedEl?.focus();
          }, 200);
        }

        storyBtn.addEventListener("click", openModal);
        modal
          .querySelector('[aria-label="Close video modal"]')
          .addEventListener("click", closeModal);

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => activateTab(tab));
        });

        function activateTab(selectedTab) {
          tabs.forEach((tab) => {
            tab.setAttribute("aria-selected", "false");
            tab.classList.replace("bg-yellow-400", "bg-zinc-800");
            tab.classList.replace("text-black", "text-yellow-300");
          });
          panels.forEach((panel) => panel.classList.add("hidden"));
          selectedTab.setAttribute("aria-selected", "true");
          selectedTab.classList.replace("bg-zinc-800", "bg-yellow-400");
          selectedTab.classList.replace("text-yellow-300", "text-black");
          document
            .getElementById(selectedTab.getAttribute("aria-controls"))
            .classList.remove("hidden");
        }
      })();
    </script>
    <!-- =========== ELITE SITE FOOTER (STARFORGE ENHANCED) =========== -->
    <footer
      id="dupe-starforge-site-footer"
      class="connect-footer bg-black text-yellow-300 shadow-inner"
      role="contentinfo"
    >
      <div class="footer-starforge-grid">
        <!-- Column 1: Brand -->
        {% include 'partials/about_and_mission.html' %}
        <!-- Column 2: Progress + Links -->
        {% include 'partials/about_and_mission.html' %}
        <!-- Column 3: Contact + Countdown -->
        {% include 'partials/about_and_mission.html' %}
      </div>
      <div class="starforge-starforge-supporters">
        <b>Recent Supporters:</b> Acme Corp • Jane D. • Smith & Co • Austin
        Hoops
      </div>
      <script>
        // Countdown timer for next event
        (function () {
          const target = new Date("2025-07-01T10:00:00Z");
          const el = document.getElementById("countdown-timer");
          function update() {
            const now = new Date(),
              diff = target - now;
            if (diff <= 0) {
              el.textContent = "Tournament is live!";
              return;
            }
            const d = Math.floor(diff / 86400000),
              h = Math.floor((diff % 86400000) / 3600000),
              m = Math.floor((diff % 3600000) / 60000),
              s = Math.floor((diff % 60000) / 1000);
            el.textContent = `${d}d ${h}h ${m}m ${s}s`;
          }
          update();
          setInterval(update, 1000);
        })();
      </script>
    </footer>
    {% endblock %}
  </body>
</html>
<!doctype html>
<html>
  <head>
    <meta
      name="generator"
      content="HTML Tidy for HTML5 for Linux version 5.8.0"
    />
    <title></title>
  </head>
  <body>
    {% set badge = badge if badge is defined else None %} {% set challenge =
    challenge if challenge is defined else {"metrics": []} %} {% set
    color_classes = color_classes if color_classes is defined else "" %} {% set
    event = event if event is defined else None %} {% set log = log if log is
    defined else None %} {% set metric = metric if metric is defined else None
    %} {% set next_game = next_game if next_game is defined else None %} {% set
    p = p if p is defined else None %} {% set request = request if request is
    defined else None %} {% set size_classes = size_classes if size_classes is
    defined else "" %} {% set sponsor = sponsor if sponsor is defined else None
    %} {% set stat = stat if stat is defined else None %} {% set widget = widget
    if widget is defined else None %} size="md", extra_classes="") -%} {%- set
    color_classes = { "primary": "bg-yellow-400 hover:bg-yellow-300
    text-zinc-900", "secondary": "bg-zinc-800 hover:bg-zinc-700
    text-yellow-300", "danger": "bg-red-600 hover:bg-red-500 text-white",
    "success": "bg-green-600 hover:bg-green-500 text-white" } -%} {%- set
    size_classes = { "sm": "px-4 py-1.5 text-sm", "md": "px-6 py-2 text-base",
    "lg": "px-8 py-3 text-lg" } -%}
    <a
      href="{{ href }}"
      class="inline-block font-semibold rounded-xl shadow transition focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400/80 {{ color_classes.get(color, color_classes['primary']) }} {{ size_classes.get(size, size_classes['md']) }} {{ extra_classes }}"
      role="button"
      tabindex="0"
      >{{ label }}</a
    >
    {%- endmacro %}
  </body>
</html>
