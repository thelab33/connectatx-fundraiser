<!DOCTYPE html>
<html>
 <head>
  <meta content="HTML Tidy for HTML5 for Linux version 5.8.0" name="generator"/>
 </head>
 <body>
  {# ==================== partials/fundraiser_meter.html ====================
    #}
  <div aria-label="{{ 'Fundraising Progress' }}" class="w-full bg-black opacity-60 backdrop-blur-xl rounded-2xl p-5 flex flex-col sm:flex-row sm:items-center gap-4 shadow-2xl border border-yellow-400 opacity-20 mt-2 mb-6" data-aos="fade-in" role="region" tabindex="0">
   <!-- Progress Bar Block -->
   <div class="w-full sm:flex-1 relative">
    <div aria-valuemax="{{ goal }}" aria-valuemin="0" aria-valuenow="{{ raised }}" class="h-5 w-full rounded-full bg-zinc-800 overflow-hidden shadow-inner border border-yellow-200 opacity-15" id="hero-meter-bar" role="progressbar">
     <div aria-label="{{ 'Current fundraising progress' }}" class="h-full bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-100 transition-all duration-1000 ease-out rounded-full" style="width: {{ ((raised / goal) * 100) | round(1) }}%;">
     </div>
    </div>
    <!-- Percentage Label: Centered, Sparkly, Live -->
    <div aria-live="polite" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-sm font-bold text-zinc-900 bg-yellow-300 opacity-90 px-2 py-0.5 rounded-full shadow-lg pointer-events-none select-none animate-sparkle" id="hero-meter-percent">
     {{ ((raised / goal) * 100) | round(0) }}%
    </div>
   </div>
   <!-- Label with Milestone Emoji -->
   <div class="text-base font-bold text-yellow-200 whitespace-nowrap text-center sm:text-left flex flex-row items-center justify-center gap-1">
    {{ 'Raised:' }}
    <span class="text-yellow-300" id="funds-raised-meter">
     {{ raised | int }}
    </span>
    /
    <span class="text-yellow-300" id="funds-goal-meter">
     {{ goal | int }}
    </span>
    <span aria-hidden="true" class="ml-2 text-2xl" id="emoji-milestone">
     {% if raised >= goal %} 🏆 {% elif raised >= goal * 0.75 %} 🚀 {% elif
          raised >= goal * 0.5 %} ⏳ {% else %} 💤 {% endif %}
    </span>
   </div>
  </div>
  {# Optional: Milestone Unlock Message (Dynamic) #} {% if raised >= goal *
    0.5 and raised < goal %}
  <div class="w-full text-center mt-2 text-yellow-400 font-semibold animate-pulse">
   🚨 {{ _('Only $%(amount)s to go — unlock new uniforms at $%(milestone)s!',
      amount=(goal - raised) | int, milestone=(goal / 2) | int) }}
  </div>
  {% elif raised >= goal %}
  <div class="w-full text-center mt-2 text-green-400 font-bold animate-bounce">
   🎉 {{ 'Goal reached! Thank you to all supporters!' }} 🎉
  </div>
  {% endif %} {# For realtime/JS updates, hidden spans #}
  <span id="funds-goal-hero" style="display: none">
   {{ goal }}
  </span>
  <span id="funds-raised-hero" style="display: none">
   {{ raised }}
  </span>
 </body>
</html>
