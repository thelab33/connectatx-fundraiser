<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="HTML Tidy for HTML5 for Linux version 5.8.0" name="generator" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ team.team_name if team else 'Connect ATX Elite' }}</title>
  </head>
  <body class="bg-zinc-950 text-white font-sans">
    <header
      class="sticky top-0 z-40 w-full backdrop-blur bg-black opacity-85 border-b border-yellow-300 opacity-15 shadow-lg transition-all"
      role="banner"
      x-data="{ offCanvasOpen: false }"
      x-init="$watch('offCanvasOpen', val => { if(val) { document.body.style.overflow='hidden' } else { document.body.style.overflow='auto' } })"
    >
      <div class="max-w-6xl mx-auto flex items-center justify-between px-4 py-3 lg:px-8 transition-all duration-300">
        <!-- Logo / Brand -->
        <a
          aria-label="{{ team.team_name if team else 'Home' }}"
          class="relative flex items-center gap-3 focus-visible:ring-4 focus-visible:ring-yellow-400 rounded-lg group"
          href="{{ url_for('homepage') }}"
          tabindex="0"
        >
          {% set logo_src = team.logo if (team is defined and team.logo) else url_for('static', filename='images/logo.avif') %}
          <img
            alt="{{ team.team_name if team and team.team_name else 'Team Logo' }}"
            class="h-12 w-auto rounded-xl shadow-lg"
            decoding="async"
            fetchpriority="high"
            loading="lazy"
            src="{{ logo_src }}"
          />
          <!-- SVG glow on hover -->
          <svg
            aria-hidden="true"
            class="absolute inset-0 w-10 h-10 opacity-0 group-hover:opacity-80 transition-opacity pointer-events-none"
            focusable="false"
            viewBox="0 0 40 40"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <filter id="glow-2" x="-50%" y="-50%" width="200%" height="200%" color-interpolation-filters="sRGB">
                <feDropShadow dx="0" dy="0" stdDeviation="2.5" flood-color="#fde047" flood-opacity="1" />
              </filter>
            </defs>
            <circle cx="20" cy="20" r="18" stroke="#fde047" stroke-width="2" fill="none" filter="url(#glow-2)" />
          </svg>
          <span
            class="text-xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-50 bg-clip-text text-transparent drop-shadow-sm select-none"
          >
            {{ team.team_name if team else 'Your Organization' }}
          </span>
        </a>

        <!-- User greeting for logged-in users -->
        {% if current_user.is_authenticated %}
          <span
            aria-label="Greeting message"
            class="hidden md:inline ml-4 px-3 py-1 rounded-full bg-yellow-100 text-zinc-900 font-semibold shadow select-none"
            role="text"
            tabindex="0"
          >
            Hi, {{ current_user.name.split()[0] }}!
          </span>
        {% endif %}

        <!-- Desktop Navigation -->
        <nav
          aria-label="Primary navigation"
          class="hidden lg:flex items-center gap-7 text-base font-semibold text-zinc-100"
          role="navigation"
        >
          {% set nav_links = team.nav_links if team and team.nav_links else [
            ('about', 'About'), ('challenge', 'Challenge'), ('sponsor-wall-wrapper', 'Sponsors'),
            ('testimonials', 'Testimonials'), ('contact', 'Contact') ] %}

          {% for id, label in nav_links %}
            <a
              class="relative transition hover:text-yellow-300 focus-visible:ring-2 ring-yellow-300 rounded px-1 py-0.5 group"
              href="#{{ id }}"
              tabindex="0"
            >
              <span>{{ label }}</span>
            </a>
          {% endfor %}

          <button
            aria-label="Open sponsor modal"
            class="ml-5 px-5 py-2 bg-gradient-to-r from-yellow-400 to-yellow-200 text-black font-bold rounded-full shadow-xl hover:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-400 transition-all animate-pop"
            onclick="openSponsorModal && openSponsorModal()"
            style="min-width: 150px"
            tabindex="0"
            type="button"
          >
            ðŸŒŸ Sponsor Now
          </button>

          <a
            aria-label="Donate now"
            class="ml-2 px-5 py-2 bg-black opacity-70 border-yellow-300 opacity-50 text-yellow-300 font-bold rounded-full shadow hover:bg-yellow-400 hover:text-black hover:shadow-lg transition-all"
            href="#donate"
            tabindex="0"
          >
            ðŸ’¸ Donate
          </a>
        </nav>

        <!-- Mobile Menu Button -->
        <button
          @click="offCanvasOpen = !offCanvasOpen"
          aria-controls="mobile-nav"
          aria-expanded="false"
          aria-label="Toggle menu"
          class="lg:hidden inline-flex items-center justify-center p-2 rounded-lg border-yellow-300 opacity-40 hover:bg-yellow-300 opacity-10 focus-visible:ring-2 ring-yellow-300 transition"
          tabindex="0"
          type="button"
          :aria-expanded="offCanvasOpen.toString()"
        >
          <svg
            aria-hidden="true"
            class="w-7 h-7 text-yellow-300 transition-transform"
            fill="none"
            focusable="false"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>

      <!-- Off-canvas Mobile Navigation -->
      <nav
        aria-label="Mobile navigation"
        aria-modal="true"
        class="fixed inset-0 z-[9998] flex flex-col items-center justify-center gap-8 bg-black opacity-90 backdrop-blur-lg shadow-2xl"
        id="mobile-nav"
        role="dialog"
        style="display: none"
        tabindex="-1"
        x-show="offCanvasOpen"
        x-transition:enter="transition ease-out duration-250"
        x-transition:enter-end="opacity-100 scale-100 translate-x-0"
        x-transition:enter-start="opacity-0 scale-95 -translate-x-full"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-end="opacity-0 scale-95 -translate-x-full"
        x-transition:leave-start="opacity-100 scale-100 translate-x-0"
      >
        <button
          @click="offCanvasOpen = false"
          aria-label="Close menu"
          class="absolute top-6 right-6 text-2xl text-yellow-300 p-2 rounded-full bg-zinc-800 opacity-70 hover:text-red-500 hover:scale-110 focus-visible:ring-4 focus-visible:ring-yellow-300 transition"
          id="mobile-nav-close"
          type="button"
        >
          Ã—
          <span class="sr-only">Close menu</span>
        </button>

        {% for id, label in nav_links %}
          <a
            class="text-3xl font-extrabold tracking-tight bg-gradient-to-r from-gold via-yellow-400 to-gold bg-clip-text text-transparent drop-shadow-xl animate-shine focus:outline-none focus-visible:ring-4 focus-visible:ring-yellow-300 hover:text-white hover:scale-105 transition"
            href="#{{ id }}"
            tabindex="0"
          >
            {{ label }}
          </a>
        {% endfor %}

        <button
          aria-controls="become-sponsor-modal"
          aria-haspopup="dialog"
          class="mt-8 px-7 py-3 bg-yellow-400 text-black font-bold rounded-full shadow-xl text-2xl hover:scale-105 focus-visible:ring-4 focus-visible:ring-yellow-300 transition animate-pop"
          onclick="openSponsorModal && openSponsorModal()"
          tabindex="0"
          type="button"
        >
          ðŸŒŸ Sponsor Now
        </button>
      </nav>
    </header>
  </body>
</html>

