(()=>{(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("\u26A1 Starforge JS initializing\u2026");let t;try{t=io()}catch{console.warn("\u26A0\uFE0F Socket.IO not available! Real-time features disabled.")}t&&(t.on("new_donation",n=>{showDonationTicker(`\u{1F389} <b>$${n.amount.toLocaleString()}</b> from <b>${d(n.name)}</b> \u2013 Thank you!`),typeof window.launchConfetti=="function"&&window.launchConfetti()}),t.on("new_sponsor",n=>{window.sponsorAlert(n.name,"Champion Sponsor"),window.openSpotlight(n.name)}),t.on("vip_update",n=>{}));let e=document.getElementById("backToTop");e&&e.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));let o=!1;function a(){o||(window.requestAnimationFrame(()=>{document.querySelectorAll("h1, h2").forEach(n=>{!n.classList.contains("in-view")&&n.getBoundingClientRect().top<window.innerHeight-60&&(n.style.opacity=1,n.classList.add("in-view"))}),o=!1}),o=!0)}if(document.querySelectorAll("h1, h2").forEach(n=>{n.style.opacity=0,n.style.transition="opacity 0.7s cubic-bezier(.4,0,.2,1)"}),window.addEventListener("scroll",a,{passive:!0}),a(),"IntersectionObserver"in window){let n=new IntersectionObserver((s,c)=>{s.forEach(i=>{i.isIntersecting&&(i.target.classList.add("in-view"),i.target.classList.add("animate-sparkle"),c.unobserve(i.target))})},{threshold:.4});document.querySelectorAll(".badge-glass, .prestige-badge").forEach(s=>n.observe(s))}function f(){let n=document.querySelector("#hero-meter-bar > div, .progress-bar"),s=document.getElementById("hero-meter-percent"),c=document.getElementById("emoji-milestone"),i=document.getElementById("funds-raised")||document.getElementById("funds-raised-meter"),g=document.getElementById("funds-goal")||document.getElementById("funds-goal-meter");if(!n||!i||!g)return;let p=parseFloat(i.textContent.replace(/[^0-9.]/g,"")||"0"),w=parseFloat(g.textContent.replace(/[^0-9.]/g,"")||"1"),l=Math.min(p/w*100,100).toFixed(1);setTimeout(()=>{n.style.width=`${l}%`,s&&(s.textContent=`${l}%`),c&&(c.textContent=l>=100?"\u{1F3C6}":l>=75?"\u{1F4AA}":l>=50?"\u{1F525}":l>=25?"\u{1F680}":"\u{1F4A4}"),n.setAttribute("aria-valuenow",p)},350)}f();let r=document.getElementById("vip-toast");r&&!sessionStorage.getItem("vipToastShown")&&(r.textContent="\u{1F389} Welcome! New sponsors will be spotlighted here \u2014 you could be next!",r.classList.remove("hidden"),r.setAttribute("role","status"),r.setAttribute("aria-live","polite"),setTimeout(()=>r.classList.add("hidden"),6500),sessionStorage.setItem("vipToastShown","1"));let u=document.getElementById("hamburger"),m=document.getElementById("mobile-menu");u&&m&&u.addEventListener("click",()=>{let n=m.classList.toggle("open");u.setAttribute("aria-expanded",n?"true":"false"),n?(m.querySelector("a,button,input")?.focus(),document.body.style.overflow="hidden"):document.body.style.overflow=""}),window.launchConfetti=function(){window.navigator.vibrate&&window.navigator.vibrate([22,16,6])},document.addEventListener("alpine:init",()=>{}),console.log("\u2705 Connect ATX Elite JavaScript loaded.")}),window.showDonationTicker=function(t){let e=document.getElementById("donation-ticker");e||(e=document.createElement("div"),e.id="donation-ticker",e.className="fixed bottom-8 left-1/2 -translate-x-1/2 bg-yellow-400/95 text-black font-bold px-7 py-3 rounded-2xl shadow-xl z-[9999] animate-bounce-in text-lg",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),document.body.appendChild(e)),e.innerHTML=t,e.classList.add("show"),setTimeout(()=>e.classList.remove("show"),4e3)},window.openSpotlight=function(t="A Generous Donor"){let e=document.getElementById("sponsor-spotlight-modal")||document.getElementById("sponsor-spotlight-modal-footer"),o=document.getElementById("sponsor-name")||document.getElementById("sponsor-name-footer");!e||!o||(o.innerHTML=`<span class="text-red-400 font-bold">${d(t)}</span>`,e.classList.add("show"),e.setAttribute("aria-modal","true"),typeof window.launchConfetti=="function"&&window.launchConfetti(),setTimeout(window.closeSpotlight,4e3))},window.closeSpotlight=function(){let t=document.getElementById("sponsor-spotlight-modal")||document.getElementById("sponsor-spotlight-modal-footer");t&&t.classList.remove("show")},window.renderSponsorLeaderboard=function(t=[]){let e=document.getElementById("sponsor-leaderboard-main");if(e){if(t.length===0){e.innerHTML='<div class="col-span-2 text-center text-lg text-gold/80 font-semibold">Be our first sponsor! \u{1F3C5}</div>';return}e.innerHTML=t.map((o,a)=>`
      <div class="rounded-2xl border-4 ${a===0?"border-gold bg-gradient-to-r from-gold/20 via-red-700/10 to-white/10 scale-105 shadow-inner-gold animate-pulse":"border-white/20 bg-black/40"} shadow-elevated p-5 flex flex-col items-center text-center">
        <span class="text-2xl font-extrabold ${a===0?"text-gold drop-shadow":"text-white/80"}">${d(o.name)}</span>
        <span class="text-xl font-bold mt-2 ${a===0?"text-red-400":"text-white/60"}">$${o.amount.toLocaleString()}</span>
        ${a===0?'<div class="prestige-badge mt-3">\u{1F3C6} Top Champion</div>':""}
      </div>
    `).join("")}},window.sponsorAlert=function(t,e="Champion Sponsor"){document.querySelectorAll(".starforge-sponsor-alert").forEach(a=>a.remove());let o=document.createElement("div");o.className="starforge-sponsor-alert fixed bottom-4 right-4 z-[9999] flex flex-col items-end animate-bounce-in",o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.innerHTML=`
    <div class="bg-black border-4 border-gold rounded-2xl px-7 py-4 shadow-elevated flex flex-col items-center text-center">
      <img src="/static/images/logo.webp" class="w-12 h-12 mb-2 rounded-full border-2 border-gold shadow-gold-glow" alt="Logo" />
      <span class="text-lg font-bold text-gold mb-2">\u{1F525} NEW SPONSOR ALERT! \u{1F525}</span>
      <span class="text-white font-semibold mb-2">Thank you <b>${d(t)}</b> for supporting the team!</span>
      <span class="prestige-badge">${e} \u{1F3C6}</span>
    </div>
  `,document.body.appendChild(o),setTimeout(()=>o.remove(),4800)};function d(t){return(t+"").replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]||e})}function v(){let t=["#facc15","#dc2626","#fff","#18181b"];for(let e=0;e<64;e++){let o=document.createElement("div");o.className="confetti",o.style.background=t[Math.floor(Math.random()*t.length)],o.style.left=`${Math.random()*100}vw`,o.style.animationDelay=`${Math.random()*1.5}s`,document.body.appendChild(o),setTimeout(()=>o.remove(),1800)}}var h=[{text:"The brotherhood and discipline we build here creates leaders for life.",author:"Coach A. Rodriguez",title:"Program Director",avatar:"/static/images/coach-avatar.jpg"},{text:"We\u2019re not just coaching basketball. We\u2019re shaping futures.",author:"Coach Jasmine",title:"Academic Coordinator",avatar:"/static/images/coach2.jpg"},{text:"This team changed my life \u2014 it gave me purpose, focus, and family.",author:"Jordan M.",title:"Alumni Captain",avatar:"/static/images/player1.jpg"}];function b(t){let e=h[t];document.getElementById("hero-quote-text").innerText=e.text,document.getElementById("hero-quote-author").innerText=e.author,document.getElementById("hero-quote-title").innerText=e.title,document.getElementById("hero-quote-avatar").src=e.avatar}document.addEventListener("DOMContentLoaded",()=>b(0))})();})();
