(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("\u26A1 Starforge JS initializing\u2026");let n=document.getElementById("backToTop");n&&n.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));let o=!1;function t(){o||(window.requestAnimationFrame(()=>{document.querySelectorAll("h1, h2").forEach(e=>{!e.classList.contains("in-view")&&e.getBoundingClientRect().top<window.innerHeight-60&&(e.style.opacity=1,e.classList.add("in-view"))}),o=!1}),o=!0)}if(document.querySelectorAll("h1, h2").forEach(e=>{e.style.opacity=0,e.style.transition="opacity 0.7s cubic-bezier(.4,0,.2,1)"}),window.addEventListener("scroll",t,{passive:!0}),t(),"IntersectionObserver"in window){let e=new IntersectionObserver((r,l)=>{r.forEach(i=>{i.isIntersecting&&(i.target.classList.add("in-view"),i.target.classList.add("animate-sparkle"),l.unobserve(i.target))})},{threshold:.4});document.querySelectorAll(".badge-glass, .prestige-badge").forEach(r=>e.observe(r))}function s(){let e=document.querySelector("#hero-meter-bar > div, .progress-bar"),r=document.getElementById("hero-meter-percent"),l=document.getElementById("emoji-milestone"),i=document.getElementById("funds-raised")||document.getElementById("funds-raised-meter"),u=document.getElementById("funds-goal")||document.getElementById("funds-goal-meter");if(!e||!i||!u)return;let g=parseFloat(i.textContent.replace(/[^0-9.]/g,"")||"0"),p=parseFloat(u.textContent.replace(/[^0-9.]/g,"")||"1"),d=Math.min(g/p*100,100).toFixed(1);setTimeout(()=>{e.style.width=`${d}%`,r&&(r.textContent=`${d}%`),l&&(l.textContent=d>=100?"\u{1F3C6}":d>=75?"\u{1F4AA}":d>=50?"\u{1F525}":d>=25?"\u{1F680}":"\u{1F4A4}"),e.setAttribute("aria-valuenow",g)},350)}s();let a=document.getElementById("vip-toast");a&&!sessionStorage.getItem("vipToastShown")&&(a.textContent="\u{1F389} Welcome! New sponsors will be spotlighted here \u2014 you could be next!",a.classList.remove("hidden"),a.setAttribute("role","status"),a.setAttribute("aria-live","polite"),setTimeout(()=>a.classList.add("hidden"),6500),sessionStorage.setItem("vipToastShown","1"));let c=document.getElementById("hamburger"),m=document.getElementById("mobile-menu");c&&m&&c.addEventListener("click",()=>{let e=m.classList.toggle("open");c.setAttribute("aria-expanded",e?"true":"false"),e?(m.querySelector("a,button,input")?.focus(),document.body.style.overflow="hidden"):document.body.style.overflow=""}),window.launchConfetti=function(){window.navigator.vibrate&&window.navigator.vibrate([22,16,6])},document.addEventListener("alpine:init",()=>{}),console.log("\u2705 Connect ATX Elite JavaScript loaded.")});window.openSpotlight=function(n="A Generous Donor"){let o=document.getElementById("sponsor-spotlight-modal"),t=document.getElementById("sponsor-name");!o||!t||(t.innerHTML=`Thank you <span class="text-red-400 font-bold">${n}</span> for supporting the team!`,o.classList.add("show"),o.setAttribute("aria-modal","true"),typeof window.launchConfetti=="function"&&window.launchConfetti(),setTimeout(window.closeSpotlight,4e3))};window.closeSpotlight=function(){let n=document.getElementById("sponsor-spotlight-modal");n&&n.classList.remove("show")};window.renderSponsorLeaderboard=function(n=[]){let o=document.getElementById("sponsor-leaderboard-main");if(o){if(n.length===0){o.innerHTML='<div class="col-span-2 text-center text-lg text-gold/80 font-semibold">Be our first sponsor! \u{1F3C5}</div>';return}o.innerHTML=n.map((t,s)=>`
      <div class="rounded-2xl border-4 ${s===0?"border-gold bg-gradient-to-r from-gold/20 via-red-700/10 to-white/10 scale-105 shadow-inner-gold animate-pulse":"border-white/20 bg-black/40"} shadow-elevated p-5 flex flex-col items-center text-center">
        <span class="text-2xl font-extrabold ${s===0?"text-gold drop-shadow":"text-white/80"}">${t.name}</span>
        <span class="text-xl font-bold mt-2 ${s===0?"text-red-400":"text-white/60"}">$${t.amount.toLocaleString()}</span>
        ${s===0?'<div class="prestige-badge mt-3">\u{1F3C6} Top Champion</div>':""}
      </div>
    `).join("")}};window.renderSponsorLeaderboard([{name:"Gold\u2019s Gym",amount:5e3},{name:"Rodriguez Law",amount:2500},{name:"Redline BBQ",amount:1e3},{name:"Dr. White & Co.",amount:500}]);window.sponsorAlert=function(n,o="Champion Sponsor"){document.querySelectorAll(".starforge-sponsor-alert").forEach(s=>s.remove());let t=document.createElement("div");t.className="starforge-sponsor-alert fixed bottom-4 right-4 z-[9999] flex flex-col items-end animate-bounce-in",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.innerHTML=`
    <div class="bg-black border-4 border-gold rounded-2xl px-7 py-4 shadow-elevated flex flex-col items-center text-center">
      <img src="/static/images/logo.webp" class="w-12 h-12 mb-2 rounded-full border-2 border-gold shadow-gold-glow" alt="Logo" />
      <span class="text-lg font-bold text-gold mb-2">\u{1F525} NEW SPONSOR ALERT! \u{1F525}</span>
      <span class="text-white font-semibold mb-2">Thank you <b>${n}</b> for supporting the team!</span>
      <span class="prestige-badge">${o} \u{1F3C6}</span>
    </div>
  `,document.body.appendChild(t),setTimeout(()=>t.remove(),4800)};})();
