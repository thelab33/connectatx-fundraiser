(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("\u26A1 Starforge JS initializing\u2026"),document.getElementById("backToTop")?.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));let o=()=>{document.querySelectorAll("h1, h2").forEach(e=>{!e.classList.contains("in-view")&&e.getBoundingClientRect().top<window.innerHeight-60&&(e.style.opacity=1,e.classList.add("in-view"))})};document.querySelectorAll("h1, h2").forEach(e=>{e.style.opacity=0,e.style.transition="opacity 0.7s cubic-bezier(.4,0,.2,1)"}),window.addEventListener("scroll",o),o();let t=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting&&(r.target.classList.add("in-view"),t.unobserve(r.target))})},{threshold:.4});document.querySelectorAll(".badge-glass").forEach(e=>t.observe(e));function n(){let e=document.querySelector("#hero-meter-bar > div"),r=document.getElementById("hero-meter-percent"),i=document.getElementById("emoji-milestone"),d=parseFloat(document.getElementById("funds-raised")?.textContent.replace(/[^0-9.]/g,"")||"0"),l=parseFloat(document.getElementById("funds-goal")?.textContent.replace(/[^0-9.]/g,"")||"1");if(e&&l>0){let a=Math.min(d/l*100,100).toFixed(1);setTimeout(()=>{e.style.width=`${a}%`,r.textContent=`${a}%`,e.setAttribute("aria-valuenow",d),i.textContent=a>=100?"\u{1F3C6}":a>=75?"\u{1F4AA}":a>=50?"\u{1F525}":a>=25?"\u{1F680}":"\u{1F4A4}"},350)}}n(),console.log("\u2705 Connect ATX Elite JavaScript loaded.")});window.openSpotlight=function(s="A Generous Donor"){document.getElementById("sponsor-name").innerHTML=`Thank you <span class="text-red-400 font-bold">${s}</span> for supporting the team!`,document.getElementById("sponsor-spotlight-modal").classList.add("show"),typeof launchConfetti=="function"&&launchConfetti(),setTimeout(closeSpotlight,4e3)};window.closeSpotlight=function(){document.getElementById("sponsor-spotlight-modal").classList.remove("show")};window.renderSponsorLeaderboard=function(s=[]){let o=document.getElementById("sponsor-leaderboard-main");if(o){if(s.length===0){o.innerHTML='<div class="col-span-2 text-center text-lg text-gold/80 font-semibold">Be our first sponsor! \u{1F3C5}</div>';return}o.innerHTML=s.map((t,n)=>`
      <div class="rounded-2xl border-4 ${n===0?"border-gold bg-gradient-to-r from-gold/20 via-red-700/10 to-white/10 scale-105 shadow-inner-gold animate-pulse":"border-white/20 bg-black/40"} shadow-elevated p-5 flex flex-col items-center text-center">
        <span class="text-2xl font-extrabold ${n===0?"text-gold drop-shadow":"text-white/80"}">${t.name}</span>
        <span class="text-xl font-bold mt-2 ${n===0?"text-red-400":"text-white/60"}">$${t.amount.toLocaleString()}</span>
        ${n===0?'<div class="prestige-badge mt-3">\u{1F3C6} Top Champion</div>':""}
      </div>
    `).join("")}};window.renderSponsorLeaderboard([{name:"Gold\u2019s Gym",amount:5e3},{name:"Rodriguez Law",amount:2500},{name:"Redline BBQ",amount:1e3},{name:"Dr. White & Co.",amount:500}]);window.sponsorAlert=function(s,o="Champion Sponsor"){document.querySelectorAll(".starforge-sponsor-alert").forEach(n=>n.remove());let t=document.createElement("div");t.className="starforge-sponsor-alert fixed bottom-4 right-4 z-[9999] flex flex-col items-end animate-bounce-in",t.innerHTML=`
    <div class="bg-black border-4 border-gold rounded-2xl px-7 py-4 shadow-elevated flex flex-col items-center text-center">
      <img src="/static/images/logo.webp" class="w-12 h-12 mb-2 rounded-full border-2 border-gold shadow-gold-glow" alt="Logo" />
      <span class="text-lg font-bold text-gold mb-2">\u{1F525} NEW SPONSOR ALERT! \u{1F525}</span>
      <span class="text-white font-semibold mb-2">Thank you <b>${s}</b> for supporting the team!</span>
      <span class="prestige-badge">${o} \u{1F3C6}</span>
    </div>
  `,document.body.appendChild(t),setTimeout(()=>t.remove(),4800)};})();
