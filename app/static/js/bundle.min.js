(()=>{document.addEventListener("DOMContentLoaded",()=>{console.log("\u26A1 Starforge JS initializing\u2026");let n=document.getElementById("backToTop");n&&n.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));function s(){document.querySelectorAll("h1, h2").forEach(o=>{!o.classList.contains("in-view")&&o.getBoundingClientRect().top<window.innerHeight-60&&(o.style.opacity=1,o.classList.add("in-view"))})}if(document.querySelectorAll("h1, h2").forEach(o=>{o.style.opacity=0,o.style.transition="opacity 0.7s cubic-bezier(.4,0,.2,1)"}),window.addEventListener("scroll",s),s(),"IntersectionObserver"in window){let o=new IntersectionObserver((i,d)=>{i.forEach(a=>{a.isIntersecting&&(a.target.classList.add("in-view"),d.unobserve(a.target))})},{threshold:.4});document.querySelectorAll(".badge-glass, .prestige-badge").forEach(i=>o.observe(i))}function e(){let o=document.querySelector("#hero-meter-bar > div, .progress-bar"),i=document.getElementById("hero-meter-percent"),d=document.getElementById("emoji-milestone"),a=document.getElementById("funds-raised"),l=document.getElementById("funds-goal");if(!o||!a||!l)return;let c=parseFloat(a.textContent.replace(/[^0-9.]/g,"")||"0"),m=parseFloat(l.textContent.replace(/[^0-9.]/g,"")||"1"),r=Math.min(c/m*100,100).toFixed(1);setTimeout(()=>{o.style.width=`${r}%`,i&&(i.textContent=`${r}%`),d&&(d.textContent=r>=100?"\u{1F3C6}":r>=75?"\u{1F4AA}":r>=50?"\u{1F525}":r>=25?"\u{1F680}":"\u{1F4A4}"),o.setAttribute("aria-valuenow",c)},350)}e();let t=document.getElementById("vip-toast");t&&!sessionStorage.getItem("vipToastShown")&&(t.textContent="\u{1F389} Welcome! New sponsors will be spotlighted here \u2014 you could be next!",t.classList.remove("hidden"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),setTimeout(()=>t.classList.add("hidden"),6500),sessionStorage.setItem("vipToastShown","1")),console.log("\u2705 Connect ATX Elite JavaScript loaded.")});window.openSpotlight=function(n="A Generous Donor"){let s=document.getElementById("sponsor-spotlight-modal"),e=document.getElementById("sponsor-name");!s||!e||(e.innerHTML=`Thank you <span class="text-red-400 font-bold">${n}</span> for supporting the team!`,s.classList.add("show"),s.setAttribute("aria-modal","true"),typeof window.launchConfetti=="function"&&window.launchConfetti(),setTimeout(window.closeSpotlight,4e3))};window.closeSpotlight=function(){let n=document.getElementById("sponsor-spotlight-modal");n&&n.classList.remove("show")};window.renderSponsorLeaderboard=function(n=[]){let s=document.getElementById("sponsor-leaderboard-main");if(s){if(n.length===0){s.innerHTML='<div class="col-span-2 text-center text-lg text-gold/80 font-semibold">Be our first sponsor! \u{1F3C5}</div>';return}s.innerHTML=n.map((e,t)=>`
      <div class="rounded-2xl border-4 ${t===0?"border-gold bg-gradient-to-r from-gold/20 via-red-700/10 to-white/10 scale-105 shadow-inner-gold animate-pulse":"border-white/20 bg-black/40"} shadow-elevated p-5 flex flex-col items-center text-center">
        <span class="text-2xl font-extrabold ${t===0?"text-gold drop-shadow":"text-white/80"}">${e.name}</span>
        <span class="text-xl font-bold mt-2 ${t===0?"text-red-400":"text-white/60"}">$${e.amount.toLocaleString()}</span>
        ${t===0?'<div class="prestige-badge mt-3">\u{1F3C6} Top Champion</div>':""}
      </div>
    `).join("")}};window.renderSponsorLeaderboard([{name:"Gold\u2019s Gym",amount:5e3},{name:"Rodriguez Law",amount:2500},{name:"Redline BBQ",amount:1e3},{name:"Dr. White & Co.",amount:500}]);window.sponsorAlert=function(n,s="Champion Sponsor"){document.querySelectorAll(".starforge-sponsor-alert").forEach(t=>t.remove());let e=document.createElement("div");e.className="starforge-sponsor-alert fixed bottom-4 right-4 z-[9999] flex flex-col items-end animate-bounce-in",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.innerHTML=`
    <div class="bg-black border-4 border-gold rounded-2xl px-7 py-4 shadow-elevated flex flex-col items-center text-center">
      <img src="/static/images/logo.webp" class="w-12 h-12 mb-2 rounded-full border-2 border-gold shadow-gold-glow" alt="Logo" />
      <span class="text-lg font-bold text-gold mb-2">\u{1F525} NEW SPONSOR ALERT! \u{1F525}</span>
      <span class="text-white font-semibold mb-2">Thank you <b>${n}</b> for supporting the team!</span>
      <span class="prestige-badge">${s} \u{1F3C6}</span>
    </div>
  `,document.body.appendChild(e),setTimeout(()=>e.remove(),4800)};document.addEventListener("alpine:init",()=>{});})();
