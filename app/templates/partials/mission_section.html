{% from "macros/ui.html" import render_button %}
{% from "macros/confetti.html" import launch_confetti %}

{% set team_name = team.team_name | default('Connect ATX Elite', true) %}
{% set region = team.region | default('Austin, TX', true) %}
{% set badges = [
  {"txt": team_name,             "bg": "bg-black/75", "txtc": "text-yellow-200"},
  {"txt": "Family‑Founded",     "bg": "bg-yellow-300", "txtc": "text-yellow-900"},
  {"txt": "Community‑Powered",  "bg": "bg-amber-100", "txtc": "text-yellow-900"},
  {"txt": "Academics‑First",    "bg": "bg-indigo-900", "txtc": "text-yellow-200"}
] %}
{% set impact = [
  {"v": "20+",  "lbl": "Student‑Athletes"},
  {"v": "3.5+","lbl": "GPA Average"},
  {"v": "100%","lbl": "Funds to Access & Education"}
] %}

<section id="elite-mission" class="relative bg-gradient-to-r from-zinc-900 to-black text-center py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto space-y-8">

    <!-- Animated Heading -->
    <h2
      id="mission-heading"
      class="text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-300 bg-clip-text text-transparent animate-shine drop-shadow-xl"
      tabindex="0"
      aria-labelledby="mission-heading"
    >
      Our Mission
    </h2>

    <!-- Badge List -->
    <ul class="flex flex-wrap justify-center gap-4" role="list" aria-label="Core values">
      {% for b in badges %}
      <li
        role="listitem"
        class="inline-flex items-center px-5 py-1 rounded-full {{ b.bg }} {{ b.txtc }} font-semibold text-xs uppercase shadow-inner ring-1 ring-yellow-400/30 focus-visible:ring-2 focus-visible:ring-yellow-300 transition"
        tabindex="0"
      >
        {{ b.txt }}
      </li>
      {% endfor %}
    </ul>

    <!-- Mission Statement -->
    <div class="bg-zinc-800/80 rounded-3xl p-8 shadow-lg ring-1 ring-yellow-400/20 space-y-4 animate-pop-in">
      <p class="text-lg font-semibold text-yellow-200 leading-relaxed">
        <span class="text-yellow-300 font-bold">Our Purpose:</span>
        Turn <span class="text-amber-300 font-bold">honor‑roll students into champions</span> — on&nbsp;and&nbsp;off&nbsp;the court.
      </p>
      <p class="text-base text-white/90 max-w-lg mx-auto leading-relaxed">
        Through rigorous teamwork, mentorship, and unyielding grit, we equip every player for life’s challenges as well as sport.
      </p>
    </div>

    <!-- Impact Stats -->
    <div class="flex flex-wrap justify-center gap-6 max-w-xl mx-auto" role="list" aria-label="Team impact stats">
      {% for s in impact %}
      <div
        role="listitem"
        tabindex="0"
        class="flex flex-col items-center bg-black/75 rounded-2xl p-6 shadow-xl focus-within:ring-2 ring-yellow-400 animate-pop-in"
      >
        <span class="text-3xl sm:text-4xl font-extrabold text-yellow-300 animate-shine">{{ s.v }}</span>
        <span class="mt-2 text-sm text-yellow-100 uppercase tracking-wide">{{ s.lbl }}</span>
      </div>
      {% endfor %}
    </div>

    <!-- FOMO Callout -->
    <p
      class="bg-yellow-400/90 text-black font-bold rounded-2xl py-4 px-6 shadow-2xl animate-bounce-in"
      aria-live="polite"
      aria-atomic="true"
      role="alert"
      tabindex="0"
    >
      Every sponsorship powers
      <span class="text-yellow-900 font-semibold">gym access, travel, and academic support</span> for our youth.
    </p>

    <!-- CTA Button -->
    {{ render_button(
      label='Become a Champion for ' ~ region ~ ' Youth →',
      href='#fundraiser',
      color='primary',
      extra_classes='mt-6 text-lg font-bold py-3 px-8 rounded-full shadow-xl animate-fade-in hover:scale-105',
      type='button'
    ) }}

    <!-- Supporting Text -->
    <p class="mt-3 text-sm text-white/70 max-w-md mx-auto">
      Your support fuels gym time, academic tutoring, tournament travel, and life-changing opportunities.
      <strong>Keep our kids striving toward greatness.</strong>
    </p>

  </div>
</section>

<style>
  /* Elite shine animation */
  @keyframes subtle-shine {
    0%, 100% { background-position: 0%; }
    50% { background-position: 100%; }
  }
  .animate-shine {
    background: linear-gradient(270deg, #fbbf24, #fde68a, #fbbf24);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: subtle-shine 6s ease infinite;
  }

  @keyframes pop-in {
    0% { opacity: 0; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1); }
  }
  .animate-pop-in {
    animation: pop-in 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes bounce-in {
    0%, 100% { transform: translateY(-8px); }
    50% { transform: translateY(0); }
  }
  .animate-bounce-in {
    animation: bounce-in 1s ease forwards;
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .animate-fade-in {
    animation: fade-in 1s ease forwards;
  }
</style>

