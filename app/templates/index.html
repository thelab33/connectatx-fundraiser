{% extends "base.html" %}

{% block title %}
  {{ _("Home") }} Â· {{ team.team_name | default("Connect ATX Elite", true) }}
{% endblock %}

{# ---- HERO SECTION ---- #}
{% block hero %}
  {% include "partials/hero_and_fundraiser.html" ignore missing %}
{% endblock %}

{% block content %}
  <div class="flex flex-col gap-20 max-w-6xl mx-auto w-full px-4 sm:px-8" role="main">

    {# Define Page Sections Dynamically #}
    {% set page_sections = [
      {"id": "mission", "label": _("Our Mission"), "partial": "partials/mission_section.html"},
      {"id": "tiers", "label": _("Sponsorship Tiers"), "partial": "partials/tiers.html"},
      {"id": "digital-hub", "label": _("Digital Hub"), "partial": "partials/digital_hub.html"},
      {"id": "program-stats-calendar", "label": _("Program Stats & Schedule"), "partial": "partials/program_stats_and_calendar.html"},
      {"id": "about", "label": _("About Connect ATX Elite"), "partial": "partials/about_section.html"},
      {"id": "sponsor-spotlight", "label": _("Sponsor Spotlight"), "partial": "partials/sponsor_spotlight.html"},
      {"id": "testimonial-popover", "label": _("What Families Say"), "partial": "partials/testimonial_popover.html"},
      {"id": "back-to-top", "label": _("Back to Top"), "partial": "partials/back_to_top.html"},
      {"id": "donation-modal", "label": _("Donation Modal"), "partial": "partials/donation_modal.html"},
      {"id": "flash-and-onboarding", "label": _("Flash & Onboarding"), "partial": "partials/flash_and_onboarding.html"},
      {"id": "sponsor-wall", "label": _("Sponsor Wall"), "partial": "partials/sponsor_wall.html"}
    ] %}

    {# Render Page Sections Dynamically and Accessibly #}
    {% for section in page_sections %}
      <section id="{{ section.id }}" aria-labelledby="{{ section.id }}-heading" class="pb-16 scroll-mt-20" role="region" tabindex="-1">
        <h2 id="{{ section.id }}-heading" class="sr-only">{{ section.label }}</h2>
        {% include section.partial ignore missing %}
      </section>
    {% endfor %}

    {# --- Optional Extra CTA or Floating Content --- #}
    {% block extra_cta %}
      {# Use this block for sticky banners, promo offers, A/B tests, or seasonal announcements #}
    {% endblock %}

    {# --- Admin Onboarding Popover for Admins --- #}
    {% if current_user and current_user.is_authenticated and current_user.is_admin %}
      <div id="admin-onboarding" class="relative z-40">
        {% include "partials/admin_onboarding_popover.html" ignore missing %}
      </div>
    {% endif %}

  </div>
{% endblock %}

