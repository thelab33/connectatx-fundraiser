{% extends "base.html" %}

{% block title %}
  {{ _("Home") }} Â· {{ team.team_name | default("Connect ATX Elite", true) }}
{% endblock %}

{# ---- HERO (one and only!) ---- #}
{% block hero %}
  {% include "partials/hero_and_fundraiser.html" ignore missing %}
{% endblock %}

{% block content %}
<div class="flex flex-col gap-20 max-w-6xl mx-auto w-full px-4 sm:px-8" role="main">

  {% set page_sections = [
    {
      "id": "mission",
      "label": _("Our Mission"),
      "partial": "partials/mission_section.html"
    },
    {
      "id": "tiers",
      "label": _("Sponsorship Tiers"),
      "partial": "partials/tiers.html"
    },
    {
      "id": "digital-hub",
      "label": _("Digital Hub"),
      "partial": "partials/digital_hub.html"
    },
    {
      "id": "program-stats-calendar",
      "label": _("Program Stats & Schedule"),
      "partial": "partials/program_stats_and_calendar.html"
    },
    {
      "id": "about",
      "label": _("About Connect ATX Elite"),
      "partial": "partials/about_section.html"
    },
  ] %}

  {# ---- Canonical Section Renderer: semantic, accessible, scalable ---- #}
  {% for section in page_sections %}
    <section
      id="{{ section.id }}"
      aria-labelledby="{{ section.id }}-heading"
      class="pb-16 scroll-mt-20"
      role="region"
      tabindex="-1"
    >
      <h2 id="{{ section.id }}-heading" class="sr-only">{{ section.label }}</h2>
      {% include section.partial ignore missing %}
    </section>
  {% endfor %}

  {# --- (Optional) Floating CTA / Announcement Bar / Extra Content --- #}
  {% block extra_cta %}
    {# Use this block for sticky banners, promo offers, A/B tests, or seasonal announcements #}
  {% endblock %}

  {# --- Admin Onboarding Popover (secured to admins only) --- #}
  {% if current_user and current_user.is_authenticated and current_user.is_admin %}
    <div id="admin-onboarding" class="relative z-40">
      {% include "partials/admin_onboarding_popover.html" ignore missing %}
    </div>
  {% endif %}

</div>
{% endblock %}

