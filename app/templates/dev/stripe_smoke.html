<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Stripe Smoke Test • SV-Elite</title>
    <style {{ nonce_attr() }}>
      :root {
        --fc-bg: #0b0b0c;
        --fc-panel: #121316;
        --fc-ink: #e6e7eb;
        --fc-muted: #98a1b3;
        --fc-edge: #1c1f26;
        --fc-gold: #f5b942;
        --ok: #10b981;
        --err: #ef4444;
        --warn: #f59e0b;
        --rad: 14px;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: linear-gradient(180deg, #0b0b0c, #0d0e12 20%, #0b0b0c);
        color: var(--fc-ink);
        font:
          14px/1.45 ui-sans-serif,
          system-ui,
          -apple-system,
          Segoe UI,
          Inter,
          Arial;
      }
      .shell {
        max-width: 880px;
        margin: 32px auto;
        padding: 0 16px;
      }
      .card {
        background: var(--fc-panel);
        border: 1px solid var(--fc-edge);
        border-radius: var(--rad);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      }
      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 18px 20px;
        border-bottom: 1px solid var(--fc-edge);
      }
      header h1 {
        margin: 0;
        font-size: 18px;
        letter-spacing: 0.2px;
      }
      header .badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-weight: 700;
        color: #111;
        background: linear-gradient(180deg, var(--fc-gold), #e8a423);
        padding: 6px 10px;
        border-radius: 999px;
      }
      main {
        padding: 20px;
      }
      .grid {
        display: grid;
        gap: 14px;
        grid-template-columns: 1fr;
      }
      @media (min-width: 720px) {
        .grid {
          grid-template-columns: 1fr 1fr;
        }
      }
      label {
        display: block;
        font-weight: 700;
        color: var(--fc-ink);
        margin: 2px 0 6px;
      }
      .muted {
        color: var(--fc-muted);
      }
      input,
      select,
      button {
        width: 100%;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid var(--fc-edge);
        background: #0e1015;
        color: var(--fc-ink);
      }
      input:focus,
      select:focus,
      button:focus {
        outline: 2px solid color-mix(in srgb, var(--fc-gold) 60%, #fff 40%);
        outline-offset: 2px;
      }
      .row {
        display: grid;
        gap: 12px;
        grid-template-columns: 1fr auto;
      }
      .actions {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .btn {
        font-weight: 800;
        letter-spacing: 0.2px;
        border: 1px solid #000;
        background: #111;
        padding: 12px 16px;
        border-radius: 12px;
      }
      .btn-primary {
        background: linear-gradient(180deg, #16181f, #0e1015);
        border: 1px solid #000;
      }
      .btn-ghost {
        background: transparent;
        border: 1px solid var(--fc-edge);
      }
      .pill {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        font-size: 12px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--fc-edge);
      }
      #card-wrap {
        display: none;
      }
      #card-element {
        padding: 12px;
        border: 1px dashed var(--fc-edge);
        border-radius: 12px;
        background: #0a0c11;
      }
      .status {
        margin-top: 12px;
        font-weight: 800;
      }
      .status.ok {
        color: var(--ok);
      }
      .status.err {
        color: var(--err);
      }
      .status.warn {
        color: var(--warn);
      }
      #log {
        display: none;
        margin-top: 12px;
        background: #0a0c11;
        color: #e6e7eb;
        border: 1px solid var(--fc-edge);
        padding: 12px;
        border-radius: 12px;
        white-space: pre-wrap;
        max-height: 360px;
        overflow: auto;
      }
      footer {
        padding: 16px 20px;
        border-top: 1px solid var(--fc-edge);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .hint {
        font-size: 12px;
        color: var(--fc-muted);
      }
      .kbd {
        font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
        background: #0a0c11;
        border: 1px solid var(--fc-edge);
        padding: 2px 6px;
        border-radius: 6px;
      }
      .inline {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
      }
      .preset {
        padding: 8px 10px;
        border: 1px solid var(--fc-edge);
        background: #0e1015;
        border-radius: 10px;
        cursor: pointer;
      }
    </style>
  <style { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } }>
/* SaaS Pro Section Polish */
.fcx-section, .fcx-section--hero, .fcx-section--tiers {
  max-width: 1100px;
  margin-inline: auto;
  margin-bottom: 3rem;
  padding-inline: clamp(14px, 5vw, 36px);
}
</style>
</head>
  <body>
    <div class="shell">
      <section class="card" role="region" aria-labelledby="title">
        <header>
          <h1 id="title">Stripe Smoke Test</h1>
          <span class="badge" aria-label="Dev only">DEV</span>
        </header>

        <main>
          <p class="muted" id="desc">
            Dev-only page to verify PaymentIntent creation and confirmation.
          </p>

          <div class="grid" aria-describedby="desc">
            <div>
              <div class="inline" style="justify-content: space-between">
                <label for="amount">Amount (USD)</label>
                <div class="inline" aria-label="presets">
                  <button class="preset" data-amt="25">$25</button>
                  <button class="preset" data-amt="50">$50</button>
                  <button class="preset" data-amt="100">$100</button>
                </div>
              </div>
              <input
                id="amount"
                type="number"
                min="1"
                step="1"
                value="50"
                inputmode="numeric"
              />
            </div>

            <div>
              <label for="mode">Mode</label>
              <select id="mode" aria-label="Confirmation mode">
                <option value="elements">Elements (card UI)</option>
                <option value="headless">Headless (pm_card_visa)</option>
              </select>
              <div class="inline" style="margin-top: 8px">
                <input type="checkbox" id="threeDS" />
                <label for="threeDS" class="muted" style="margin: 0">Simulate 3-D Secure challenge</label>
              </div>
            </div>

            <div id="card-wrap" class="col-span-2">
              <label for="card-element">Card details</label>
              <div id="card-element" role="group" aria-label="Card input"></div>
              <div class="hint" style="margin-top: 6px">
                Use test card <span class="kbd">4242 4242 4242 4242</span> ·
                <span class="kbd">12/34</span> · <span class="kbd">123</span> ·
                any ZIP
                <span class="muted">— for 3-D Secure, try
                  <span class="kbd">4000 0025 0000 3155</span></span>
              </div>
            </div>

            <div>
              <label for="token">Bearer (optional)</label>
              <div class="row">
                <input
                  id="token"
                  placeholder="devtoken (if your server requires it)"
                />
                <button
                  class="btn btn-ghost"
                  type="button"
                  id="save-token"
                  aria-label="Save token">
                  Save
                </button>
              </div>
              <div class="hint">
                Stored in <span class="kbd">localStorage</span> for this page
                only.
              </div>
            </div>

            <div>
              <label for="idem">Idempotency-Key (optional)</label>
              <div class="row">
                <input id="idem" placeholder="e.g. smoke-001" />
                <button class="btn btn-ghost" type="button" id="gen-idem">
                  Generate
                </button>
              </div>
              <div class="hint">
                Adds <span class="kbd">Idempotency-Key</span> header on PI
                creation.
              </div>
            </div>

            <div class="col-span-2">
              <label for="note">Metadata (optional)</label>
              <input id="note" placeholder="source=web_smoke" />
            </div>
          </div>

          <div class="actions" style="margin-top: 14px">
            <button class="btn btn-primary" id="pay" type="button">
              Pay $<span id="amt-label">50</span> (Test)
            </button>
            <button
              class="btn btn-ghost"
              type="button"
              id="toggle-log"
              aria-expanded="false"
              aria-controls="log">
              Show raw log
            </button>
          </div>

          <div
            id="status"
            class="status muted"
            role="status"
            aria-live="polite"></div>
          <pre id="log"></pre>
        </main>

        <footer>
          <div class="hint">
            Server enforces
            <span class="kbd">allow_redirects: "never"</span> for APM.
          </div>
          <div class="pill">
            <span aria-hidden="true">⚡</span><span id="pubkey">pk: —</span>
            <span class="pill" id="ready" style="margin-left: 8px">stripe: …</span>
          </div>
        </footer>
      </section>
    </div>

    <script
      {{ nonce_attr() }}
      src="https://js.stripe.com/v3/"></script>
    <script { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } type="module" src="{{ url_for('static', filename='js/extracted/dev__stripe_smoke.html__2.js', v='1.0.0') }}"></script>
  
<!-- Floating Donate CTA -->
<div class="fc-float-cta" id="floating-donate-cta" style="display:none; position:fixed;bottom:1.7rem;right:1.7rem;z-index:1999;">
  <a class="fcx-btn fcx-btn-accent fc-pro-cta" href="{{ HREF_DONATE }}" target="_blank" rel="noopener noreferrer" data-cta="donate">
    Donate Now →
  </a>
</div>
<script { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } } { { nonce_attr() } }>
(() => {
  const float = document.getElementById("floating-donate-cta");
  const donateBtns = document.querySelectorAll("[data-cta='donate']");
  const check = () => {
    let donateVisible = false;
    donateBtns.forEach(btn => {
      const rect = btn.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom> 0) donateVisible = true;
    });
    float.style.display = donateVisible ? "none" : "grid";
  };
  window.addEventListener("scroll", check, { passive: true });
  window.addEventListener("resize", check);
  check();
})();
</script>

</body>
</html>
