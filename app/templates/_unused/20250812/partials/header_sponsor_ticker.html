{# ===========================
   ELITE SPONSOR TICKER BAR
   ===========================
   â€¢ Accessible marquee, real FOMO copy
   â€¢ Dynamic or static sponsors
   â€¢ Easily extend to HTMX/Socket.IO
   â€¢ Polished animation & responsive
#}

<div
  id="sponsor-ticker"
  class="relative z-40 w-full bg-gradient-to-r from-yellow-900/90 via-yellow-800/95 to-yellow-900/80 text-yellow-100 text-xs md:text-sm py-1.5 px-4 overflow-hidden whitespace-nowrap font-bold tracking-wide shadow-md ring-2 ring-yellow-300/30 rounded-b-2xl border-b-2 border-yellow-500/30"
  role="marquee"
  aria-live="polite"
  aria-atomic="true"
  aria-label="Sponsor ticker"
>
  <span class="mr-2 animate-pulse select-none" aria-hidden="true">ðŸŒŸ</span>
  <span class="font-semibold">Thanks to our amazing sponsors:</span>
  <span id="ticker-track" class="inline-flex items-center ml-3 gap-2">
    {% set sponsors_list = sponsors if sponsors is defined else [
      {"name": "Goldâ€™s Gym", "url": "#"},
      {"name": "Eastside Dental", "url": "#"},
      {"name": "TechBridge Austin", "url": "#"},
      {"name": "Coach Carter Foundation", "url": "#"}
    ] %}
    {% for sponsor in sponsors_list %}
      <a
        href="{{ sponsor.url or '#' }}"
        class="sponsor-item mx-2 transition hover:text-yellow-400 hover:underline outline-none focus-visible:ring-2 focus-visible:ring-yellow-300 rounded"
        target="_blank"
        rel="noopener"
      >{{ sponsor.name }}</a>
      {% if not loop.last %}
        <span aria-hidden="true" class="opacity-70 mx-1">â€¢</span>
      {% endif %}
    {% endfor %}
  </span>
</div>

<style>
  @keyframes marquee-scroll {
    0%   { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }

  #sponsor-ticker #ticker-track {
    min-width: 100%;
    display: inline-flex;
    animation: marquee-scroll 17s linear infinite;
    will-change: transform;
  }

  @media (max-width: 768px) {
    #sponsor-ticker #ticker-track {
      animation-duration: 24s;
    }
    #sponsor-ticker {
      font-size: 0.88rem;
      padding-left: 0.6rem;
      padding-right: 0.6rem;
    }
    .sponsor-item {
      margin-right: 0.7rem;
    }
  }

  .sponsor-item {
    display: inline-block;
    white-space: nowrap;
    margin-right: 1rem;
    padding: 0 0.25rem;
    transition: color 0.2s, text-decoration 0.2s;
  }
</style>

<script>
  // Optional: Restart animation on sponsor list update (future HTMX)
  // No JS needed for vanilla CSS loop, but you can extend here!
</script>

