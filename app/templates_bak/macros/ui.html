{# app/templates/macros/ui.html #}
{% macro render_button(label, href="#", color="primary", size="base", icon=None, external=False, aria_label=None, loading=False, extra_classes="") -%}
  {%- set size_classes = {
        "sm": "px-4 py-1 text-sm",
        "base": "px-6 py-2 text-base",
        "lg": "px-8 py-3 text-lg"
      }[size] if size in ["sm", "base", "lg"] else "px-6 py-2 text-base" -%}
  <a
    href="{{ href }}"
    class="inline-block rounded-lg font-semibold bg-{{ color }}-500 text-white shadow hover:bg-{{ color }}-600 transition {{ size_classes }} {{ extra_classes }} {% if loading %}opacity-60 pointer-events-none{% endif %}"
    {% if external %} target="_blank" rel="noopener noreferrer"{% endif %}
    {% if aria_label %} aria-label="{{ aria_label }}"{% endif %}
  >
    {% if icon %}
      <span class="mr-2 align-middle">{% if icon.startswith('fa') %}<i class="{{ icon }}"></i>{% else %}{{ icon }}{% endif %}</span>
    {% endif %}
    {% if loading %}
      <span class="spinner-border spinner-border-sm mr-2" role="status" aria-hidden="true"></span>
    {% endif %}
    <span class="align-middle">{{ label }}</span>
  </a>
{%- endmacro %}
